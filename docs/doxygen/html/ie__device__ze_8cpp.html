<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Inference Engine (Clocher): engine/src/devices/ie_device_ze.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Inference Engine (Clocher)<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">C11 CPU inference baseline with strict metrics &amp; harness</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('ie__device__ze_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ie_device_ze.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>oneAPI Level Zero backend (skeleton implementation).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ie__device__ze_8h_source.html">ie_device_ze.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ie_device_ze.cpp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="ie__device__ze_8cpp__incl.svg" width="179" height="207"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="ie__device__ze_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a994c1aef7f0d08a8ba892c79d5fb5a99" id="r_a994c1aef7f0d08a8ba892c79d5fb5a99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a994c1aef7f0d08a8ba892c79d5fb5a99">ie_ze_is_available</a> (void)</td></tr>
<tr class="memdesc:a994c1aef7f0d08a8ba892c79d5fb5a99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Level Zero is available at runtime.  <br /></td></tr>
<tr class="separator:a994c1aef7f0d08a8ba892c79d5fb5a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c74b35449c7c8008aff141ee5e49df" id="r_a28c74b35449c7c8008aff141ee5e49df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a28c74b35449c7c8008aff141ee5e49df">ie_ze_gemv_f32</a> (const float *W, const float *<a class="el" href="ie__kernels__ze_8cl.html#ad48b386850d1d2a5a51515ad676993a0">x</a>, float *<a class="el" href="ie__kernels__ze_8cl.html#aea3d67a4afbcc9232ebb1f337b451966">y</a>, int <a class="el" href="ie__kernels__ze_8cl.html#a35363449221d3f91c1cbb04818f843d9">rows</a>, int <a class="el" href="ie__kernels__ze_8cl.html#af942f0573963b9e5aaa312bb99574c86">cols</a>, int ldw)</td></tr>
<tr class="memdesc:a28c74b35449c7c8008aff141ee5e49df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run y = W * x using a Level Zero kernel (FP32).  <br /></td></tr>
<tr class="separator:a28c74b35449c7c8008aff141ee5e49df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>oneAPI Level Zero backend (skeleton implementation). </p>
<p>This TU compiles when IE_WITH_ZE=1 and provides runtime probes that currently return "unavailable". The goal is to let the engine wire the selection logic now and fill in the kernel path later without breaking the build or the CPU/CUDA flows.</p>
<p>To implement for real:</p><ul>
<li>Initialize zeInit with ZE_INIT_FLAG_GPU_ONLY (or 0).</li>
<li>Enumerate drivers/devices, pick a GPU.</li>
<li>Create context, command queue/list, module (SPIR-V), kernel.</li>
<li>Upload buffers, set arguments, dispatch, copy back, teardown. </li>
</ul>

<p class="definition">Definition in file <a class="el" href="ie__device__ze_8cpp_source.html">ie_device_ze.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a28c74b35449c7c8008aff141ee5e49df" name="a28c74b35449c7c8008aff141ee5e49df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28c74b35449c7c8008aff141ee5e49df">&#9670;&#160;</a></span>ie_ze_gemv_f32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ie_ze_gemv_f32 </td>
          <td>(</td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>W</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>rows</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cols</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ldw</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run y = W * x using a Level Zero kernel (FP32). </p>
<p>This is a placeholder signature that mirrors the CUDA one. The current implementation returns IE_ZE_UNAVAILABLE until the kernel path is implemented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">W</td><td>Host pointer to row-major matrix W(rows, cols). </td></tr>
    <tr><td class="paramname">x</td><td>Host pointer to vector <a class="el" href="ie__kernels__ze_8cl.html#ad48b386850d1d2a5a51515ad676993a0">x(cols)</a>. </td></tr>
    <tr><td class="paramname">y</td><td>Host pointer to vector <a class="el" href="ie__kernels__ze_8cl.html#aea3d67a4afbcc9232ebb1f337b451966">y(rows)</a>. </td></tr>
    <tr><td class="paramname">rows</td><td>Rows of W / length of y. </td></tr>
    <tr><td class="paramname">cols</td><td>Cols of W / length of x. </td></tr>
    <tr><td class="paramname">ldw</td><td>Leading dimension of W in elements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IE_ZE_OK on success or an error code. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ie__device__ze_8cpp_source.html#l00050">50</a> of file <a class="el" href="ie__device__ze_8cpp_source.html">ie_device_ze.cpp</a>.</p>

<p class="reference">References <a class="el" href="ie__kernels__ze_8cl_source.html#l00070">cols</a>, <a class="el" href="ie__device__ze_8h_source.html#l00028">IE_ZE_UNAVAILABLE</a>, <a class="el" href="ie__kernels__ze_8cl_source.html#l00070">rows</a>, <a class="el" href="ie__kernels__ze_8cl_source.html#l00068">x</a>, and <a class="el" href="ie__kernels__ze_8cl_source.html#l00069">y</a>.</p>

</div>
</div>
<a id="a994c1aef7f0d08a8ba892c79d5fb5a99" name="a994c1aef7f0d08a8ba892c79d5fb5a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994c1aef7f0d08a8ba892c79d5fb5a99">&#9670;&#160;</a></span>ie_ze_is_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ie_ze_is_available </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if Level Zero is available at runtime. </p>
<p>When compiled without IE_WITH_ZE, this returns IE_ZE_UNAVAILABLE.</p>
<dl class="section return"><dt>Returns</dt><dd>IE_ZE_OK if the loader/driver is usable; IE_ZE_UNAVAILABLE otherwise; IE_ZE_ERR_RUNTIME on runtime init failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ie__device__ze_8cpp_source.html#l00046">46</a> of file <a class="el" href="ie__device__ze_8cpp_source.html">ie_device_ze.cpp</a>.</p>

<p class="reference">References <a class="el" href="ie__device__ze_8h_source.html#l00028">IE_ZE_UNAVAILABLE</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_996f45160da62e1a3d7f6046fad68f51.html">engine</a></li><li class="navelem"><a class="el" href="dir_3d9126aa00c041bc0b8f859d1965a0f4.html">src</a></li><li class="navelem"><a class="el" href="dir_6e12826fa569dcfca518a603dbf9bd72.html">devices</a></li><li class="navelem"><a class="el" href="ie__device__ze_8cpp.html">ie_device_ze.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
