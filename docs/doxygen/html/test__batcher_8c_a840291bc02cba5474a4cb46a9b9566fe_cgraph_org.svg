<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: main Pages: 1 -->
<svg width="596pt" height="218pt"
 viewBox="0.00 0.00 596.00 218.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 214)">
<title>main</title>
<!-- Node1 -->
<g id="node1" class="node">
<title>Node1</title>
<g id="a_node1"><a xlink:title=" ">
<polygon fill="#bfbfbf" stroke="black" points="0,-108.5 0,-127.5 41,-127.5 41,-108.5 0,-108.5"/>
<text text-anchor="middle" x="20.5" y="-115.5" font-family="Helvetica,sans-Serif" font-size="10.00">main</text>
</a>
</g>
</g>
<!-- Node2 -->
<g id="node2" class="node">
<title>Node2</title>
<g id="a_node2"><a xlink:href="test__batcher_8c.html#a840a5fb06d03045c6f4e645ed682b7ad" target="_top" xlink:title="Validate basic prefetch, ordering, microbatch slicing and draining.">
<polygon fill="none" stroke="black" points="82.5,-152 82.5,-182 194.5,-182 194.5,-152 82.5,-152"/>
<text text-anchor="start" x="90.5" y="-170" font-family="Helvetica,sans-Serif" font-size="10.00">test_basic_prefetch</text>
<text text-anchor="middle" x="138.5" y="-159" font-family="Helvetica,sans-Serif" font-size="10.00">_and_order</text>
</a>
</g>
</g>
<!-- Node1&#45;&gt;Node2 -->
<g id="edge1" class="edge">
<title>Node1&#45;&gt;Node2</title>
<path fill="none" stroke="midnightblue" d="M41.18,-127.13C51.75,-131.96 65.03,-137.93 77,-143 80.92,-144.66 85,-146.35 89.1,-148.03"/>
<polygon fill="midnightblue" stroke="midnightblue" points="88.08,-151.39 98.66,-151.9 90.71,-144.9 88.08,-151.39"/>
</g>
<!-- Node13 -->
<g id="node13" class="node">
<title>Node13</title>
<g id="a_node13"><a xlink:href="test__batcher_8c.html#acebcf748df4676af1488302913dcc33e" target="_top" xlink:title="Validate graceful teardown: destroy after partial consumption.">
<polygon fill="none" stroke="black" points="77,-64.5 77,-83.5 200,-83.5 200,-64.5 77,-64.5"/>
<text text-anchor="middle" x="138.5" y="-71.5" font-family="Helvetica,sans-Serif" font-size="10.00">test_partial_teardown</text>
</a>
</g>
</g>
<!-- Node1&#45;&gt;Node13 -->
<g id="edge13" class="edge">
<title>Node1&#45;&gt;Node13</title>
<path fill="none" stroke="midnightblue" d="M41.04,-108.51C51.57,-103.58 64.85,-97.62 77,-93 82.67,-90.84 88.7,-88.73 94.67,-86.75"/>
<polygon fill="midnightblue" stroke="midnightblue" points="96.16,-89.95 104.6,-83.55 94.01,-83.29 96.16,-89.95"/>
</g>
<!-- Node14 -->
<g id="node14" class="node">
<title>Node14</title>
<g id="a_node14"><a xlink:href="test__batcher_8c.html#ae1015c7a7a149612ed323d43e7c93a0c" target="_top" xlink:title="Validate ring wrap behavior (tail truncation) and view sizes.">
<polygon fill="none" stroke="black" points="80.5,-103 80.5,-133 196.5,-133 196.5,-103 80.5,-103"/>
<text text-anchor="start" x="88.5" y="-121" font-family="Helvetica,sans-Serif" font-size="10.00">test_wrap_and_view</text>
<text text-anchor="middle" x="138.5" y="-110" font-family="Helvetica,sans-Serif" font-size="10.00">_limits</text>
</a>
</g>
</g>
<!-- Node1&#45;&gt;Node14 -->
<g id="edge18" class="edge">
<title>Node1&#45;&gt;Node14</title>
<path fill="none" stroke="midnightblue" d="M41.18,-118C49.46,-118 59.62,-118 70.21,-118"/>
<polygon fill="midnightblue" stroke="midnightblue" points="70.44,-121.5 80.44,-118 70.44,-114.5 70.44,-121.5"/>
</g>
<!-- Node3 -->
<g id="node3" class="node">
<title>Node3</title>
<g id="a_node3"><a xlink:href="ie__batcher_8h.html#a32c4149e9889f52a2eb339131ecc38dc" target="_top" xlink:title="Release items previously returned by ie_batcher_get.">
<polygon fill="none" stroke="black" points="236,-190.5 236,-209.5 350,-209.5 350,-190.5 236,-190.5"/>
<text text-anchor="middle" x="293" y="-197.5" font-family="Helvetica,sans-Serif" font-size="10.00">ie_batcher_advance</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node3 -->
<g id="edge2" class="edge">
<title>Node2&#45;&gt;Node3</title>
<path fill="none" stroke="midnightblue" d="M194.56,-178.91C208.7,-181.97 223.9,-185.26 237.99,-188.31"/>
<polygon fill="midnightblue" stroke="midnightblue" points="237.5,-191.79 248.02,-190.48 238.99,-184.95 237.5,-191.79"/>
</g>
<!-- Node5 -->
<g id="node5" class="node">
<title>Node5</title>
<g id="a_node5"><a xlink:href="ie__batcher_8h.html#a51b0027aa744b7505af41defd2f029fa" target="_top" xlink:title="Create a new asynchronous tokenizer batcher.">
<polygon fill="none" stroke="black" points="241,-38.5 241,-57.5 345,-57.5 345,-38.5 241,-38.5"/>
<text text-anchor="middle" x="293" y="-45.5" font-family="Helvetica,sans-Serif" font-size="10.00">ie_batcher_create</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node5 -->
<g id="edge4" class="edge">
<title>Node2&#45;&gt;Node5</title>
<path fill="none" stroke="midnightblue" d="M187.79,-151.88C192.2,-149.34 196.37,-146.4 200,-143 227.27,-117.44 208.09,-91.86 236,-67 237.91,-65.3 239.98,-63.75 242.16,-62.33"/>
<polygon fill="midnightblue" stroke="midnightblue" points="243.89,-65.38 251.01,-57.54 240.55,-59.22 243.89,-65.38"/>
</g>
<!-- Node10 -->
<g id="node10" class="node">
<title>Node10</title>
<g id="a_node10"><a xlink:href="ie__batcher_8h.html#a606dcb56c138607d9b0d77948d8b48b9" target="_top" xlink:title="Destroy a batcher, joining workers and freeing all resources.">
<polygon fill="none" stroke="black" points="238,-76.5 238,-95.5 348,-95.5 348,-76.5 238,-76.5"/>
<text text-anchor="middle" x="293" y="-83.5" font-family="Helvetica,sans-Serif" font-size="10.00">ie_batcher_destroy</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node10 -->
<g id="edge9" class="edge">
<title>Node2&#45;&gt;Node10</title>
<path fill="none" stroke="midnightblue" d="M183.94,-151.99C189.54,-149.35 195.04,-146.36 200,-143 219.27,-129.96 216.41,-117.55 236,-105 239.12,-103 242.48,-101.19 245.94,-99.54"/>
<polygon fill="midnightblue" stroke="midnightblue" points="247.42,-102.72 255.27,-95.6 244.69,-96.27 247.42,-102.72"/>
</g>
<!-- Node11 -->
<g id="node11" class="node">
<title>Node11</title>
<g id="a_node11"><a xlink:href="ie__batcher_8h.html#a6dfb3b0fad4a7c1271d86da06649236f" target="_top" xlink:title="Obtain a contiguous slice of ready items without copying.">
<polygon fill="none" stroke="black" points="248.5,-114.5 248.5,-133.5 337.5,-133.5 337.5,-114.5 248.5,-114.5"/>
<text text-anchor="middle" x="293" y="-121.5" font-family="Helvetica,sans-Serif" font-size="10.00">ie_batcher_get</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node11 -->
<g id="edge11" class="edge">
<title>Node2&#45;&gt;Node11</title>
<path fill="none" stroke="midnightblue" d="M192.84,-151.96C210.93,-146.86 230.92,-141.22 248.19,-136.35"/>
<polygon fill="midnightblue" stroke="midnightblue" points="249.33,-139.67 258,-133.59 247.43,-132.93 249.33,-139.67"/>
</g>
<!-- Node12 -->
<g id="node12" class="node">
<title>Node12</title>
<g id="a_node12"><a xlink:href="test__batcher_8c.html#a4818ddbc1b516bbe63d2a991a2b1b4bd" target="_top" xlink:title="Deterministic tokenizer used for testing.">
<polygon fill="none" stroke="black" points="244,-152.5 244,-171.5 342,-171.5 342,-152.5 244,-152.5"/>
<text text-anchor="middle" x="293" y="-159.5" font-family="Helvetica,sans-Serif" font-size="10.00">test_tokenize_cb</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node12 -->
<g id="edge12" class="edge">
<title>Node2&#45;&gt;Node12</title>
<path fill="none" stroke="midnightblue" d="M194.56,-165.19C207.21,-164.78 220.71,-164.34 233.51,-163.92"/>
<polygon fill="midnightblue" stroke="midnightblue" points="233.71,-167.41 243.59,-163.59 233.48,-160.42 233.71,-167.41"/>
</g>
<!-- Node4 -->
<g id="node4" class="node">
<title>Node4</title>
<g id="a_node4"><a xlink:href="ie__batcher_8c.html#a6b929aafa08b7ff2b55984965517f8cc" target="_top" xlink:title="Free an item&#39;s payload (token ids) and reset its fields.">
<polygon fill="none" stroke="black" points="392,-142.5 392,-161.5 460,-161.5 460,-142.5 392,-142.5"/>
<text text-anchor="middle" x="426" y="-149.5" font-family="Helvetica,sans-Serif" font-size="10.00">clear_item</text>
</a>
</g>
</g>
<!-- Node3&#45;&gt;Node4 -->
<g id="edge3" class="edge">
<title>Node3&#45;&gt;Node4</title>
<path fill="none" stroke="midnightblue" d="M322.86,-190.47C331.6,-187.51 341.22,-184.19 350,-181 363.7,-176.03 378.7,-170.29 391.66,-165.24"/>
<polygon fill="midnightblue" stroke="midnightblue" points="393.08,-168.44 401.11,-161.53 390.53,-161.92 393.08,-168.44"/>
</g>
<!-- Node6 -->
<g id="node6" class="node">
<title>Node6</title>
<g id="a_node6"><a xlink:href="ie__batcher_8c.html#a65ba0b7b023b2064be03f050ff7601e6" target="_top" xlink:title="Producer thread entry: tokenizes prompts in ascending index order.">
<polygon fill="none" stroke="black" points="386,-19.5 386,-38.5 466,-38.5 466,-19.5 386,-19.5"/>
<text text-anchor="middle" x="426" y="-26.5" font-family="Helvetica,sans-Serif" font-size="10.00">worker_main</text>
</a>
</g>
</g>
<!-- Node5&#45;&gt;Node6 -->
<g id="edge5" class="edge">
<title>Node5&#45;&gt;Node6</title>
<path fill="none" stroke="midnightblue" d="M345.02,-40.6C355.05,-39.15 365.55,-37.62 375.52,-36.18"/>
<polygon fill="midnightblue" stroke="midnightblue" points="376.28,-39.6 385.68,-34.7 375.28,-32.67 376.28,-39.6"/>
</g>
<!-- Node9 -->
<g id="node9" class="node">
<title>Node9</title>
<g id="a_node9"><a xlink:href="ie__batcher_8c.html#ab38f40609aad2503943b2f0b749e54ba" target="_top" xlink:title="calloc wrapper (zero&#45;initialized).">
<polygon fill="none" stroke="black" points="400.5,-57.5 400.5,-76.5 451.5,-76.5 451.5,-57.5 400.5,-57.5"/>
<text text-anchor="middle" x="426" y="-64.5" font-family="Helvetica,sans-Serif" font-size="10.00">xcalloc</text>
</a>
</g>
</g>
<!-- Node5&#45;&gt;Node9 -->
<g id="edge8" class="edge">
<title>Node5&#45;&gt;Node9</title>
<path fill="none" stroke="midnightblue" d="M345.02,-55.4C360.14,-57.59 376.33,-59.94 390.17,-61.95"/>
<polygon fill="midnightblue" stroke="midnightblue" points="389.84,-65.44 400.23,-63.41 390.84,-58.51 389.84,-65.44"/>
</g>
<!-- Node7 -->
<g id="node7" class="node">
<title>Node7</title>
<g id="a_node7"><a xlink:href="ie__batcher_8c.html#a9475e6883ae67815581f9573b97d2148" target="_top" xlink:title="Enqueue a tokenized item into the ring (blocks if full).">
<polygon fill="none" stroke="black" points="502,-38.5 502,-57.5 588,-57.5 588,-38.5 502,-38.5"/>
<text text-anchor="middle" x="545" y="-45.5" font-family="Helvetica,sans-Serif" font-size="10.00">enqueue_item</text>
</a>
</g>
</g>
<!-- Node6&#45;&gt;Node7 -->
<g id="edge6" class="edge">
<title>Node6&#45;&gt;Node7</title>
<path fill="none" stroke="midnightblue" d="M466.28,-35.38C474.49,-36.71 483.27,-38.14 491.86,-39.53"/>
<polygon fill="midnightblue" stroke="midnightblue" points="491.38,-43 501.81,-41.15 492.5,-36.09 491.38,-43"/>
</g>
<!-- Node8 -->
<g id="node8" class="node">
<title>Node8</title>
<g id="a_node8"><a xlink:href="ie__batcher_8c.html#a691ff39201d7e90e9808bf7f5ddb2cb8" target="_top" xlink:title="Thread&#45;safe fetch of the next prompt index to process.">
<polygon fill="none" stroke="black" points="514,-0.5 514,-19.5 576,-19.5 576,-0.5 514,-0.5"/>
<text text-anchor="middle" x="545" y="-7.5" font-family="Helvetica,sans-Serif" font-size="10.00">pop_next</text>
</a>
</g>
</g>
<!-- Node6&#45;&gt;Node8 -->
<g id="edge7" class="edge">
<title>Node6&#45;&gt;Node8</title>
<path fill="none" stroke="midnightblue" d="M466.28,-22.62C478.42,-20.65 491.8,-18.48 503.98,-16.5"/>
<polygon fill="midnightblue" stroke="midnightblue" points="504.58,-19.95 513.89,-14.89 503.45,-13.04 504.58,-19.95"/>
</g>
<!-- Node10&#45;&gt;Node4 -->
<g id="edge10" class="edge">
<title>Node10&#45;&gt;Node4</title>
<path fill="none" stroke="midnightblue" d="M326.49,-95.6C334.33,-98.3 342.58,-101.48 350,-105 368.85,-113.95 388.81,-126.64 403.39,-136.57"/>
<polygon fill="midnightblue" stroke="midnightblue" points="401.51,-139.52 411.72,-142.34 405.5,-133.77 401.51,-139.52"/>
</g>
<!-- Node13&#45;&gt;Node5 -->
<g id="edge14" class="edge">
<title>Node13&#45;&gt;Node5</title>
<path fill="none" stroke="midnightblue" d="M195.42,-64.47C206.93,-62.5 219.1,-60.43 230.78,-58.44"/>
<polygon fill="midnightblue" stroke="midnightblue" points="231.62,-61.84 240.89,-56.71 230.44,-54.94 231.62,-61.84"/>
</g>
<!-- Node13&#45;&gt;Node10 -->
<g id="edge15" class="edge">
<title>Node13&#45;&gt;Node10</title>
<path fill="none" stroke="midnightblue" d="M200.21,-78.78C209.26,-79.49 218.62,-80.23 227.74,-80.94"/>
<polygon fill="midnightblue" stroke="midnightblue" points="227.67,-84.45 237.91,-81.74 228.22,-77.47 227.67,-84.45"/>
</g>
<!-- Node13&#45;&gt;Node11 -->
<g id="edge16" class="edge">
<title>Node13&#45;&gt;Node11</title>
<path fill="none" stroke="midnightblue" d="M170.32,-83.54C179.85,-86.53 190.37,-89.87 200,-93 210.38,-96.38 233.8,-104.27 254.41,-111.25"/>
<polygon fill="midnightblue" stroke="midnightblue" points="253.33,-114.58 263.93,-114.47 255.58,-107.95 253.33,-114.58"/>
</g>
<!-- Node13&#45;&gt;Node12 -->
<g id="edge17" class="edge">
<title>Node13&#45;&gt;Node12</title>
<path fill="none" stroke="midnightblue" d="M182.17,-83.56C188.48,-86.03 194.65,-89.13 200,-93 222.2,-109.03 213.99,-126.71 236,-143 238.52,-144.86 241.23,-146.55 244.06,-148.08"/>
<polygon fill="midnightblue" stroke="midnightblue" points="242.83,-151.37 253.37,-152.44 245.8,-145.03 242.83,-151.37"/>
</g>
<!-- Node14&#45;&gt;Node3 -->
<g id="edge19" class="edge">
<title>Node14&#45;&gt;Node3</title>
<path fill="none" stroke="midnightblue" d="M182.34,-133.03C188.49,-135.94 194.57,-139.27 200,-143 219.17,-156.18 216.41,-168.45 236,-181 239.12,-183 242.48,-184.81 245.94,-186.46"/>
<polygon fill="midnightblue" stroke="midnightblue" points="244.69,-189.73 255.27,-190.4 247.42,-183.28 244.69,-189.73"/>
</g>
<!-- Node14&#45;&gt;Node5 -->
<g id="edge20" class="edge">
<title>Node14&#45;&gt;Node5</title>
<path fill="none" stroke="midnightblue" d="M179.83,-102.88C186.69,-99.88 193.65,-96.54 200,-93 217.24,-83.39 218.46,-76.05 236,-67 240.06,-64.9 244.4,-62.96 248.81,-61.19"/>
<polygon fill="midnightblue" stroke="midnightblue" points="250.33,-64.35 258.46,-57.56 247.86,-57.8 250.33,-64.35"/>
</g>
<!-- Node14&#45;&gt;Node10 -->
<g id="edge21" class="edge">
<title>Node14&#45;&gt;Node10</title>
<path fill="none" stroke="midnightblue" d="M196.72,-105.99C209.66,-103.28 223.38,-100.4 236.25,-97.7"/>
<polygon fill="midnightblue" stroke="midnightblue" points="237.3,-101.05 246.37,-95.58 235.86,-94.2 237.3,-101.05"/>
</g>
<!-- Node14&#45;&gt;Node11 -->
<g id="edge22" class="edge">
<title>Node14&#45;&gt;Node11</title>
<path fill="none" stroke="midnightblue" d="M196.72,-120.25C210.32,-120.79 224.79,-121.36 238.24,-121.88"/>
<polygon fill="midnightblue" stroke="midnightblue" points="238.16,-125.38 248.29,-122.28 238.43,-118.39 238.16,-125.38"/>
</g>
<!-- Node14&#45;&gt;Node12 -->
<g id="edge23" class="edge">
<title>Node14&#45;&gt;Node12</title>
<path fill="none" stroke="midnightblue" d="M191.56,-133.02C210.16,-138.39 230.92,-144.38 248.71,-149.51"/>
<polygon fill="midnightblue" stroke="midnightblue" points="248.22,-153.01 258.8,-152.42 250.16,-146.29 248.22,-153.01"/>
</g>
</g>
</svg>
