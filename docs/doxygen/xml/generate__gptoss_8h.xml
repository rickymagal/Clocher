<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="generate__gptoss_8h" kind="file" language="C++">
    <compoundname>generate_gptoss.h</compoundname>
    <includes local="no">stddef.h</includes>
    <includes local="no">stdint.h</includes>
    <includes refid="ie__device_8h" local="yes">ie_device.h</includes>
    <includes refid="ie__infer_8h" local="yes">ie_infer.h</includes>
    <includes refid="ie__io_8h" local="yes">ie_io.h</includes>
    <includes refid="ie__sampling_8h" local="yes">ie_sampling.h</includes>
    <includes refid="ie__tokenizer__gptoss_8h" local="yes">ie_tokenizer_gptoss.h</includes>
    <includedby refid="generate__gptoss_8c" local="yes">engine/src/runtime/generate_gptoss.c</includedby>
    <incdepgraph>
      <node id="1">
        <label>engine/include/generate_gptoss.h</label>
        <link refid="generate__gptoss_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>ie_device.h</label>
        <link refid="ie__device_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>ie_infer.h</label>
        <link refid="ie__infer_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>ie_io.h</label>
        <link refid="ie__io_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>ie_kv_cache.h</label>
        <link refid="ie__kv__cache_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>ie_quant_act.h</label>
        <link refid="ie__quant__act_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>ie_sampling.h</label>
        <link refid="ie__sampling_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>ie_tokenizer_gptoss.h</label>
        <link refid="ie__tokenizer__gptoss_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>stddef.h</label>
      </node>
      <node id="3">
        <label>stdint.h</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="1">
        <label>engine/include/generate_gptoss.h</label>
        <link refid="generate__gptoss_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>engine/src/runtime/generate_gptoss.c</label>
        <link refid="generate__gptoss_8c"/>
      </node>
    </invincdepgraph>
    <sectiondef kind="enum">
      <memberdef kind="enum" id="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12" prot="public" static="no" strong="no">
        <type></type>
        <name>ie_generate_gptoss_status_e</name>
        <enumvalue id="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a3c8ef82c3fb3656d77d9e1af0bc4ecb3" prot="public">
          <name>IE_GEN_GPTOSS_OK</name>
          <initializer>= 0</initializer>
          <briefdescription>
<para>Success. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a15ac0cffb5158bdec2e938ec78cd4c9e" prot="public">
          <name>IE_GEN_GPTOSS_ERR_ARGS</name>
          <initializer>= -1</initializer>
          <briefdescription>
<para>Invalid arguments. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a1bfb1596ac6097bd52e0e741ed08cb09" prot="public">
          <name>IE_GEN_GPTOSS_ERR_IO</name>
          <initializer>= -2</initializer>
          <briefdescription>
<para>I/O error reading model config or tokenizer usage failure. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12ab6e47a45995f23356184a034560fc548" prot="public">
          <name>IE_GEN_GPTOSS_ERR_MODEL</name>
          <initializer>= -3</initializer>
          <briefdescription>
<para>Model files/weights/hparams inconsistent or inference create failed. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a8cf470e043daf5fc1a1cf15877330892" prot="public">
          <name>IE_GEN_GPTOSS_ERR_NOMEM</name>
          <initializer>= -4</initializer>
          <briefdescription>
<para>Out-of-memory. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12aa460eac30068a914c049e6fd12e730a4" prot="public">
          <name>IE_GEN_GPTOSS_ERR_UNSUPPORTED</name>
          <initializer>= -5</initializer>
          <briefdescription>
<para>Feature not implemented in the current snapshot. </para>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
<para>Status codes returned by the GPT-OSS generation wrapper. </para>
        </briefdescription>
        <detaileddescription>
<para>These are intentionally simple and negative on error, similar to other internal modules in this repository. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/generate_gptoss.h" line="54" column="1" bodyfile="engine/include/generate_gptoss.h" bodystart="54" bodyend="67"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="typedef">
      <memberdef kind="typedef" id="generate__gptoss_8h_1a39f1bd92283c342330bb64fc42d6c9d9" prot="public" static="no">
        <type>enum <ref refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12" kindref="member">ie_generate_gptoss_status_e</ref></type>
        <definition>typedef enum ie_generate_gptoss_status_e ie_generate_gptoss_status_t</definition>
        <argsstring></argsstring>
        <name>ie_generate_gptoss_status_t</name>
        <briefdescription>
<para>Status codes returned by the GPT-OSS generation wrapper. </para>
        </briefdescription>
        <detaileddescription>
<para>These are intentionally simple and negative on error, similar to other internal modules in this repository. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/generate_gptoss.h" line="67" column="29"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="generate__gptoss_8h_1a2b535839e3f31ab2812b78f7f1d1fdaf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ie_generate_gptoss_default_sample_cfg</definition>
        <argsstring>(ie_sample_cfg_t *out_cfg)</argsstring>
        <name>ie_generate_gptoss_default_sample_cfg</name>
        <param>
          <type><ref refid="ie__sampling_8h_1a69ef33c311c065f6caa2738715c6fc76" kindref="member">ie_sample_cfg_t</ref> *</type>
          <declname>out_cfg</declname>
        </param>
        <briefdescription>
<para>Fill a conservative default sampling configuration. </para>
        </briefdescription>
        <detaileddescription>
<para>Defaults are chosen to be predictable and safe for early bring-up:<itemizedlist>
<listitem><para>Greedy selection (argmax),</para>
</listitem><listitem><para>Temperature=1.0,</para>
</listitem><listitem><para>No top-k/top-p filtering.</para>
</listitem></itemizedlist>
</para>
<para>Callers may override any fields after this call.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>out_cfg</parametername>
</parameternamelist>
<parameterdescription>
<para>Output sampling configuration (required). </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/generate_gptoss.h" line="82" column="6" declfile="engine/include/generate_gptoss.h" declline="82" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="generate__gptoss_8h_1ae2b49a4109c69ec3ff996adea490690d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int ie_generate_gptoss</definition>
        <argsstring>(const ie_device_t *dev, const ie_weights_t *w, const char *model_dir, const ie_tok_gptoss_t *tok, const char *prompt, uint32_t max_new, const ie_sample_cfg_t *sample_cfg, uint64_t seed, int *out_tokens, uint32_t *out_n_tokens)</argsstring>
        <name>ie_generate_gptoss</name>
        <param>
          <type>const <ref refid="ie__device_8h_1a7c50deaca4d796966353da1769279628" kindref="member">ie_device_t</ref> *</type>
          <declname>dev</declname>
        </param>
        <param>
          <type>const <ref refid="ie__io_8h_1af68ad3cdc2eb244fe4feed94372d7806" kindref="member">ie_weights_t</ref> *</type>
          <declname>w</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>model_dir</declname>
        </param>
        <param>
          <type>const <ref refid="ie__tokenizer__gptoss_8h_1ae1b205a897f0ece89cc8f2899acc0543" kindref="member">ie_tok_gptoss_t</ref> *</type>
          <declname>tok</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>prompt</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>max_new</declname>
        </param>
        <param>
          <type>const <ref refid="ie__sampling_8h_1a69ef33c311c065f6caa2738715c6fc76" kindref="member">ie_sample_cfg_t</ref> *</type>
          <declname>sample_cfg</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>seed</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>out_tokens</declname>
        </param>
        <param>
          <type>uint32_t *</type>
          <declname>out_n_tokens</declname>
        </param>
        <briefdescription>
<para>Generate up to <computeroutput>max_new</computeroutput> tokens for a prompt string using GPT-OSS. </para>
        </briefdescription>
        <detaileddescription>
<para>This function performs: 1) Load minimal hyperparameters from <computeroutput>model_dir/config.json</computeroutput>. 2) Encode <computeroutput>prompt</computeroutput> into token IDs using <computeroutput>tok</computeroutput>. 3) Create an inference context via <ref refid="ie__infer_8h_1a569ac499d7bce188c1e21fa9377b9bae" kindref="member">ie_gptoss_infer_create()</ref>. 4) Allocate a KV cache sized from hyperparameters. 5) Run prefill over the prompt, then step+sample to generate new tokens.</para>
<para>The generation loop is:<itemizedlist>
<listitem><para>logits = prefill(prompt)</para>
</listitem><listitem><para>repeat max_new: next = sample(logits) out_tokens[i] = next logits = step(next)</para>
</listitem></itemizedlist>
</para>
<para>Requirements:<itemizedlist>
<listitem><para><computeroutput>tok</computeroutput> must be a valid tokenizer handle capable of encoding the prompt.</para>
</listitem><listitem><para>Real inference must exist in ie_gptoss_infer_prefill/step.</para>
</listitem></itemizedlist>
</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>dev</parametername>
</parameternamelist>
<parameterdescription>
<para>Device backend handle (required). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>w</parametername>
</parameternamelist>
<parameterdescription>
<para>Loaded weights handle (required). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>model_dir</parametername>
</parameternamelist>
<parameterdescription>
<para>Model directory containing config.json (required). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>tok</parametername>
</parameternamelist>
<parameterdescription>
<para>Tokenizer handle opened from tokenizer.json (required). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>prompt</parametername>
</parameternamelist>
<parameterdescription>
<para>UTF-8 prompt string (non-NULL; may be empty). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>max_new</parametername>
</parameternamelist>
<parameterdescription>
<para>Maximum number of tokens to generate. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>sample_cfg</parametername>
</parameternamelist>
<parameterdescription>
<para>Sampling configuration (may be NULL for defaults). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>seed</parametername>
</parameternamelist>
<parameterdescription>
<para>RNG seed (0 is remapped to a non-zero value). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>out_tokens</parametername>
</parameternamelist>
<parameterdescription>
<para>Output buffer (length at least <computeroutput>max_new</computeroutput> when <computeroutput>max_new</computeroutput> &gt; 0). </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>out_n_tokens</parametername>
</parameternamelist>
<parameterdescription>
<para>Receives number of generated tokens. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Status code from <ref refid="generate__gptoss_8h_1a39f1bd92283c342330bb64fc42d6c9d9" kindref="member">ie_generate_gptoss_status_t</ref>. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/generate_gptoss.h" line="118" column="5" bodyfile="engine/src/runtime/generate_gptoss.c" bodystart="38" bodyend="213" declfile="engine/include/generate_gptoss.h" declline="118" declcolumn="5"/>
        <references refid="structie__gptoss__hparams_1aa4bcfd3715e6fbd18bf3bbad86e017da" compoundref="ie__infer_8h" startline="46">ie_gptoss_hparams::d_head</references>
        <references refid="structie__kv__opts_1ad52668c7f2e5bdc7adb8171947232077" compoundref="ie__kv__cache_8h" startline="112">ie_kv_opts::fp8_format</references>
        <references refid="gptoss__hparams_8h_1a551745dee25fc47e05d76c79791885a0" compoundref="gptoss__hparams_8c" startline="789" endline="798">gptoss_hparams_load</references>
        <references refid="structie__kv__opts_1acea5bf28709f714eb88a85719fa58f9f" compoundref="ie__kv__cache_8h" startline="94">ie_kv_opts::group_size</references>
        <references refid="structie__kv__opts_1a8b9255f78606b76462a20157c24c2bda" compoundref="ie__kv__cache_8h" startline="80">ie_kv_opts::head_dim</references>
        <references refid="structie__kv__opts_1a60291f6cf5954a7d16fdaf981ddf9e7a" compoundref="ie__kv__cache_8h" startline="78">ie_kv_opts::heads</references>
        <references refid="generate__gptoss_8c_1aa39e9f771b76d28a0c53b6d123396ce8" compoundref="generate__gptoss_8c" startline="20" endline="29">ie_default_sample_cfg</references>
        <references refid="ie__quant__act_8h_1a67a1bdaa8281d1c69b6b76ecba79c52ca67cfe56fcb473bed9a2f92388f2fc347" compoundref="ie__quant__act_8h" startline="28">IE_FP8_E4M3</references>
        <references refid="generate__gptoss_8c_1a4d9929d191c8a96c98738ebd878ca63e" compoundref="generate__gptoss_8c" startline="31" endline="36">ie_free_ptr</references>
        <references refid="ie__infer_8h_1a569ac499d7bce188c1e21fa9377b9bae" compoundref="infer__gptoss_8c" startline="1700" endline="2290">ie_gptoss_infer_create</references>
        <references refid="ie__infer_8h_1a89e8a91978217f16a8c9ef4adae46048" compoundref="infer__gptoss_8c" startline="2292" endline="2335">ie_gptoss_infer_destroy</references>
        <references refid="ie__infer_8h_1a39827a388a0b7dd6d161e99b111c5546" compoundref="infer__gptoss_8c" startline="2337" endline="2363">ie_gptoss_infer_prefill</references>
        <references refid="ie__infer_8h_1a52a0e33daf64ca5524b6440cecc8d2f6" compoundref="infer__gptoss_8c" startline="2365" endline="2380">ie_gptoss_infer_step</references>
        <references refid="ie__kv__cache_8h_1a555aaa1e797b4ef229ad911a7a6ee8b5" compoundref="kv__cache_8c" startline="483" endline="490">ie_kv_free_layers</references>
        <references refid="ie__kv__cache_8h_1ab44456fc4842c15b2091f0a059e06584" compoundref="kv__cache_8c" startline="411" endline="453">ie_kv_init_layers</references>
        <references refid="ie__kv__cache_8h_1a2bb962f9a31709cc159ccb5f8c8f2fe7a4fa6c4868332a5127755fdee56404f54" compoundref="ie__kv__cache_8h" startline="66">IE_KV_STORAGE_F32</references>
        <references refid="ie__sampling_8h_1a2bab94d0c686c57c4437867f4c18583f" compoundref="sampling_8c" startline="136" endline="139">ie_rng_init</references>
        <references refid="ie__sampling_8h_1abf8ae91c0890e964abdfa5b739eb0646abf8a031706d18e2e447fdf23fbcf56b1" compoundref="ie__sampling_8h" startline="37">IE_SAMPLE_GREEDY</references>
        <references refid="ie__sampling_8h_1a8c38dab715a10a71aa4e5a049199f73c" compoundref="sampling_8c" startline="326" endline="500">ie_sample_next</references>
        <references refid="ie__tokenizer__gptoss_8h_1a171cd54148a22d4fd7c1c8d1e9f010de" compoundref="tokenizer__gptoss_8c" startline="1891" endline="1946">ie_tok_gptoss_encode</references>
        <references refid="structie__gptoss__hparams_1aab0c01be581031776f5fa61bbb10de24" compoundref="ie__infer_8h" startline="49">ie_gptoss_hparams::max_seq</references>
        <references refid="structie__kv__opts_1ad9dcb92aedeedbeddfbde834d4395421" compoundref="ie__kv__cache_8h" startline="82">ie_kv_opts::max_seq</references>
        <references refid="structie__gptoss__hparams_1a5176af7af6c6d8a4c516f7ec1e6be202" compoundref="ie__infer_8h" startline="43">ie_gptoss_hparams::n_heads</references>
        <references refid="structie__gptoss__hparams_1a89acca54a15e45183b174270c137d5ca" compoundref="ie__infer_8h" startline="44">ie_gptoss_hparams::n_kv_heads</references>
        <references refid="structie__gptoss__hparams_1a9f7592ff0ef97a90e4bf510d7323c1e2" compoundref="ie__infer_8h" startline="42">ie_gptoss_hparams::n_layers</references>
        <references refid="structie__kv__opts_1ac4e52133d322b3da023a242cab67fb7f" compoundref="ie__kv__cache_8h" startline="85">ie_kv_opts::storage</references>
        <references refid="structie__kv__opts_1ab68941f4eda9ed79513f35321c3e3ee1" compoundref="ie__kv__cache_8h" startline="104">ie_kv_opts::symmetric</references>
        <references refid="structie__gptoss__hparams_1a92d6a3ba26bf70874cd58b8aebfe688c" compoundref="ie__infer_8h" startline="48">ie_gptoss_hparams::vocab_size</references>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>High-level GPT-OSS token generation loop (prompt -&gt; token IDs) built on ie_gptoss_infer_prefill/step() and the sampling utilities. </para>
    </briefdescription>
    <detaileddescription>
<para>This module is the glue between:<itemizedlist>
<listitem><para>Tokenization (prompt text -&gt; prompt token IDs),</para>
</listitem><listitem><para>Transformer forward pass (prefill/step producing logits),</para>
</listitem><listitem><para>Sampling (logits -&gt; next token ID),</para>
</listitem><listitem><para>Returning a generated token stream to the caller.</para>
</listitem></itemizedlist>
</para>
<para>The actual transformer math must be implemented in:<itemizedlist>
<listitem><para><ref refid="ie__infer_8h_1a39827a388a0b7dd6d161e99b111c5546" kindref="member">ie_gptoss_infer_prefill()</ref></para>
</listitem><listitem><para><ref refid="ie__infer_8h_1a52a0e33daf64ca5524b6440cecc8d2f6" kindref="member">ie_gptoss_infer_step()</ref></para>
</listitem></itemizedlist>
</para>
<para>Once those are real, this module provides a strict, deterministic and harness-friendly generation path.</para>
<para>Design goals:<itemizedlist>
<listitem><para>No global state.</para>
</listitem><listitem><para>Allocation is local to the generate call (correctness-first).</para>
</listitem><listitem><para>Minimal assumptions about the surrounding engine; the caller provides device handle, weights handle, tokenizer handle and model directory. </para>
</listitem></itemizedlist>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/>============================================================================</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>File:<sp/>engine/include/generate_gptoss.h</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>============================================================================</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*/</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>GENERATE_GPTOSS_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>GENERATE_GPTOSS_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stddef.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdint.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ie__device_8h" kindref="compound">ie_device.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ie__infer_8h" kindref="compound">ie_infer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ie__io_8h" kindref="compound">ie_io.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ie__sampling_8h" kindref="compound">ie_sampling.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ie__tokenizer__gptoss_8h" kindref="compound">ie_tokenizer_gptoss.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12" kindref="member">ie_generate_gptoss_status_e</ref><sp/>{</highlight></codeline>
<codeline lineno="56" refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a3c8ef82c3fb3656d77d9e1af0bc4ecb3" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a3c8ef82c3fb3656d77d9e1af0bc4ecb3" kindref="member">IE_GEN_GPTOSS_OK</ref><sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="58" refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a15ac0cffb5158bdec2e938ec78cd4c9e" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a15ac0cffb5158bdec2e938ec78cd4c9e" kindref="member">IE_GEN_GPTOSS_ERR_ARGS</ref><sp/>=<sp/>-1,</highlight></codeline>
<codeline lineno="60" refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a1bfb1596ac6097bd52e0e741ed08cb09" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a1bfb1596ac6097bd52e0e741ed08cb09" kindref="member">IE_GEN_GPTOSS_ERR_IO</ref><sp/>=<sp/>-2,</highlight></codeline>
<codeline lineno="62" refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12ab6e47a45995f23356184a034560fc548" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12ab6e47a45995f23356184a034560fc548" kindref="member">IE_GEN_GPTOSS_ERR_MODEL</ref><sp/>=<sp/>-3,</highlight></codeline>
<codeline lineno="64" refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a8cf470e043daf5fc1a1cf15877330892" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12a8cf470e043daf5fc1a1cf15877330892" kindref="member">IE_GEN_GPTOSS_ERR_NOMEM</ref><sp/>=<sp/>-4,</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><ref refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12aa460eac30068a914c049e6fd12e730a4" kindref="member">IE_GEN_GPTOSS_ERR_UNSUPPORTED</ref><sp/>=<sp/>-5</highlight></codeline>
<codeline lineno="67" refid="generate__gptoss_8h_1a6a1055e33c7de340761d738c9963ae12aa460eac30068a914c049e6fd12e730a4" refkind="member"><highlight class="normal">}<sp/><ref refid="generate__gptoss_8h_1a39f1bd92283c342330bb64fc42d6c9d9" kindref="member">ie_generate_gptoss_status_t</ref>;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="generate__gptoss_8h_1a2b535839e3f31ab2812b78f7f1d1fdaf" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="generate__gptoss_8h_1a2b535839e3f31ab2812b78f7f1d1fdaf" kindref="member">ie_generate_gptoss_default_sample_cfg</ref>(<ref refid="structie__sample__cfg__s" kindref="compound">ie_sample_cfg_t</ref><sp/>*out_cfg);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="generate__gptoss_8h_1ae2b49a4109c69ec3ff996adea490690d" kindref="member">ie_generate_gptoss</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structie__device" kindref="compound">ie_device_t</ref><sp/>*dev,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structie__weights__s" kindref="compound">ie_weights_t</ref><sp/>*w,</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*model_dir,</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_t</ref><sp/>*tok,</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*prompt,</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>max_new,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structie__sample__cfg__s" kindref="compound">ie_sample_cfg_t</ref><sp/>*sample_cfg,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint64_t<sp/>seed,</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*out_tokens,</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>*out_n_tokens);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>extern<sp/>&quot;C&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>GENERATE_GPTOSS_H<sp/>*/</highlight><highlight class="preprocessor"></highlight></codeline>
    </programlisting>
    <location file="engine/include/generate_gptoss.h"/>
  </compounddef>
</doxygen>
