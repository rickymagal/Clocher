<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="namespacepack__moe__q4__from__hf" kind="namespace" language="Python">
    <compoundname>pack_moe_q4_from_hf</compoundname>
    <innerclass refid="classpack__moe__q4__from__hf_1_1HFIndex" prot="public">pack_moe_q4_from_hf::HFIndex</innerclass>
    <sectiondef kind="var">
      <memberdef kind="variable" id="namespacepack__moe__q4__from__hf_1a8dfadf32b0e309c4300173fa43a17be2" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int pack_moe_q4_from_hf.ALIGN</definition>
        <argsstring></argsstring>
        <name>ALIGN</name>
        <qualifiedname>pack_moe_q4_from_hf.ALIGN</qualifiedname>
        <initializer>=  64</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="10" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespacepack__moe__q4__from__hf_1a2cb7f2c7a986967b83f1bc44cfd14e34" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int pack_moe_q4_from_hf.BLOCK_K</definition>
        <argsstring></argsstring>
        <name>BLOCK_K</name>
        <qualifiedname>pack_moe_q4_from_hf.BLOCK_K</qualifiedname>
        <initializer>=  32</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="11" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="11" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespacepack__moe__q4__from__hf_1a486b45dbe7cfa430574f8f17b9561334" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition> int pack_moe_q4_from_hf.align_up</definition>
        <argsstring>(int x, int a=ALIGN)</argsstring>
        <name>align_up</name>
        <qualifiedname>pack_moe_q4_from_hf.align_up</qualifiedname>
        <param>
          <type>int</type>
          <declname>x</declname>
        </param>
        <param>
          <type>int</type>
          <declname>a</declname>
          <defval><ref refid="namespacepack__moe__q4__from__hf_1a8dfadf32b0e309c4300173fa43a17be2" kindref="member">ALIGN</ref></defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="13" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="13" bodyend="15"/>
      </memberdef>
      <memberdef kind="function" id="namespacepack__moe__q4__from__hf_1a376a97a5d6f387cabe216dd4c7a061ca" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>pack_moe_q4_from_hf.read_safetensors_header</definition>
        <argsstring>(f)</argsstring>
        <name>read_safetensors_header</name>
        <qualifiedname>pack_moe_q4_from_hf.read_safetensors_header</qualifiedname>
        <param>
          <type>f</type>
          <defname>f</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="16" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="16" bodyend="26"/>
        <referencedby refid="classpack__moe__q4__from__hf_1_1HFIndex_1a0ce0d97ba80f913b837014f3ee2ec8e3" compoundref="pack__moe__q4__from__hf_8py" startline="49" endline="59">pack_moe_q4_from_hf.HFIndex._load_shard_header</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacepack__moe__q4__from__hf_1a64db8ad8bf12589271f36336d62e8611" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>np.ndarray</type>
        <definition> np.ndarray pack_moe_q4_from_hf.bf16_to_f32_from_u16</definition>
        <argsstring>(np.ndarray u16)</argsstring>
        <name>bf16_to_f32_from_u16</name>
        <qualifiedname>pack_moe_q4_from_hf.bf16_to_f32_from_u16</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>u16</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="27" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="27" bodyend="30"/>
        <referencedby refid="classpack__moe__q4__from__hf_1_1HFIndex_1a7925cd02ad21a93ed7abd8cfba132596" compoundref="pack__moe__q4__from__hf_8py" startline="79" endline="104">pack_moe_q4_from_hf.HFIndex.read_tensor_f32</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacepack__moe__q4__from__hf_1adeb40975c471cb6030cdc1d6c9b85c58" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>np.ndarray</type>
        <definition> np.ndarray pack_moe_q4_from_hf.f32_to_bf16_u16</definition>
        <argsstring>(np.ndarray x)</argsstring>
        <name>f32_to_bf16_u16</name>
        <qualifiedname>pack_moe_q4_from_hf.f32_to_bf16_u16</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>x</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="31" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="31" bodyend="35"/>
        <referencedby refid="namespacepack__moe__q4__from__hf_1af4cf8e054691df4ee2c5e79e313ef7a4" compoundref="pack__moe__q4__from__hf_8py" startline="138" endline="164">quantize_q4_0_blocks</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacepack__moe__q4__from__hf_1add11c0beb68725a493e850799250e960" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition> int pack_moe_q4_from_hf.infer_num_experts_from_index</definition>
        <argsstring>(dict weight_map, int layer)</argsstring>
        <name>infer_num_experts_from_index</name>
        <qualifiedname>pack_moe_q4_from_hf.infer_num_experts_from_index</qualifiedname>
        <param>
          <type>dict</type>
          <declname>weight_map</declname>
        </param>
        <param>
          <type>int</type>
          <declname>layer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="105" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="105" bodyend="124"/>
      </memberdef>
      <memberdef kind="function" id="namespacepack__moe__q4__from__hf_1aeb595fcc14dc385e8e3e9066aaf521f5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>np.ndarray</type>
        <definition> np.ndarray pack_moe_q4_from_hf.orient_linear_weight</definition>
        <argsstring>(np.ndarray w, int in_features, int out_features, str name)</argsstring>
        <name>orient_linear_weight</name>
        <qualifiedname>pack_moe_q4_from_hf.orient_linear_weight</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>w</declname>
        </param>
        <param>
          <type>int</type>
          <declname>in_features</declname>
        </param>
        <param>
          <type>int</type>
          <declname>out_features</declname>
        </param>
        <param>
          <type>str</type>
          <declname>name</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="125" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="125" bodyend="137"/>
      </memberdef>
      <memberdef kind="function" id="namespacepack__moe__q4__from__hf_1af4cf8e054691df4ee2c5e79e313ef7a4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>pack_moe_q4_from_hf.quantize_q4_0_blocks</definition>
        <argsstring>(np.ndarray mat_f32, int block_k=BLOCK_K)</argsstring>
        <name>quantize_q4_0_blocks</name>
        <qualifiedname>pack_moe_q4_from_hf.quantize_q4_0_blocks</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>mat_f32</declname>
        </param>
        <param>
          <type>int</type>
          <declname>block_k</declname>
          <defval><ref refid="namespacepack__moe__q4__from__hf_1a2cb7f2c7a986967b83f1bc44cfd14e34" kindref="member">BLOCK_K</ref></defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/pack_moe_q4_from_hf.py" line="138" column="1" bodyfile="scripts/pack_moe_q4_from_hf.py" bodystart="138" bodyend="164"/>
        <references refid="namespacepack__moe__q4__from__hf_1adeb40975c471cb6030cdc1d6c9b85c58" compoundref="pack__moe__q4__from__hf_8py" startline="31" endline="35">f32_to_bf16_u16</references>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <location file="scripts/pack_moe_q4_from_hf.py" line="1" column="1"/>
  </compounddef>
</doxygen>
