<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="ie__cpu_8h" kind="file" language="C++">
    <compoundname>ie_cpu.h</compoundname>
    <includes local="no">stdbool.h</includes>
    <includedby refid="cpu__features_8c" local="yes">engine/src/opt/cpu_features.c</includedby>
    <includedby refid="test__cpu__features_8c" local="yes">tests/c/test_cpu_features.c</includedby>
    <incdepgraph>
      <node id="1">
        <label>engine/include/ie_cpu.h</label>
        <link refid="ie__cpu_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>stdbool.h</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="1">
        <label>engine/include/ie_cpu.h</label>
        <link refid="ie__cpu_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>engine/src/opt/cpu_features.c</label>
        <link refid="cpu__features_8c"/>
      </node>
      <node id="3">
        <label>tests/c/test_cpu_features.c</label>
        <link refid="test__cpu__features_8c"/>
      </node>
    </invincdepgraph>
    <innerclass refid="structie__cpu__features__t" prot="public">ie_cpu_features_t</innerclass>
    <sectiondef kind="func">
      <memberdef kind="function" id="ie__cpu_8h_1af2e20a1ca28854df085dbe0d88ed91c3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool ie_cpu_detect</definition>
        <argsstring>(ie_cpu_features_t *out)</argsstring>
        <name>ie_cpu_detect</name>
        <param>
          <type><ref refid="structie__cpu__features__t" kindref="compound">ie_cpu_features_t</ref> *</type>
          <declname>out</declname>
        </param>
        <briefdescription>
<para>Detect CPU features on the current machine. </para>
        </briefdescription>
        <detaileddescription>
<para>The function is best-effort: it never crashes on unsupported platforms. On non-x86 builds it returns <computeroutput>true</computeroutput> and fills all flags as <computeroutput>false</computeroutput>.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="out">out</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to a <ref refid="structie__cpu__features__t" kindref="compound">ie_cpu_features_t</ref> structure to fill. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><computeroutput>true</computeroutput> if the function executed; <computeroutput>false</computeroutput> only if <computeroutput>out</computeroutput> is NULL. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_cpu.h" line="36" column="6" bodyfile="engine/src/opt/cpu_features.c" bodystart="70" bodyend="102" declfile="engine/include/ie_cpu.h" declline="36" declcolumn="6"/>
        <references refid="structie__cpu__features__t_1a126cd9fec9b1e9ec0a746ab0a28e7251" compoundref="ie__cpu_8h" startline="23">ie_cpu_features_t::avx2</references>
        <references refid="cpu__features_8c_1a6ab0f83647cb70ad0043407f15992363" compoundref="cpu__features_8c" startline="30" endline="49">cpuid_ex</references>
        <references refid="structie__cpu__features__t_1ab186c528f9355396127156bf6e6ab099" compoundref="ie__cpu_8h" startline="24">ie_cpu_features_t::fma</references>
        <references refid="cpu__features_8c_1a5ec481b22364387e65264e28e0f81bf7" compoundref="cpu__features_8c" startline="58" endline="68">xgetbv_xcr0</references>
        <referencedby refid="test__cpu__features_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="test__cpu__features_8c" startline="9" endline="15">main</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>CPU feature detection API for runtime kernel dispatch. </para>
    </briefdescription>
    <detaileddescription>
<para>This header exposes a tiny, dependency-free interface to detect a subset of x86 CPU features (AVX2 and FMA). On non-x86 platforms, detection succeeds but all features are reported as <computeroutput>false</computeroutput>. </para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>IE_CPU_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>IE_CPU_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdbool.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="22" refid="structie__cpu__features__t" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="23" refid="structie__cpu__features__t_1a126cd9fec9b1e9ec0a746ab0a28e7251" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structie__cpu__features__t_1a126cd9fec9b1e9ec0a746ab0a28e7251" kindref="member">avx2</ref>;<sp/><sp/></highlight></codeline>
<codeline lineno="24" refid="structie__cpu__features__t_1ab186c528f9355396127156bf6e6ab099" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structie__cpu__features__t_1ab186c528f9355396127156bf6e6ab099" kindref="member">fma</ref>;<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="25"><highlight class="normal">}<sp/><ref refid="structie__cpu__features__t" kindref="compound">ie_cpu_features_t</ref>;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="ie__cpu_8h_1af2e20a1ca28854df085dbe0d88ed91c3" kindref="member">ie_cpu_detect</ref>(<ref refid="structie__cpu__features__t" kindref="compound">ie_cpu_features_t</ref><sp/>*out);</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal">}</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>IE_CPU_H<sp/>*/</highlight><highlight class="preprocessor"></highlight></codeline>
    </programlisting>
    <location file="engine/include/ie_cpu.h"/>
  </compounddef>
</doxygen>
