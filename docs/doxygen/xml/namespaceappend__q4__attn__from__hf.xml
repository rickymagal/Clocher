<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="namespaceappend__q4__attn__from__hf" kind="namespace" language="Python">
    <compoundname>append_q4_attn_from_hf</compoundname>
    <innerclass refid="classappend__q4__attn__from__hf_1_1HFIndex" prot="public">append_q4_attn_from_hf::HFIndex</innerclass>
    <sectiondef kind="var">
      <memberdef kind="variable" id="namespaceappend__q4__attn__from__hf_1a836df40b91acf9201caca77535f3e447" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int append_q4_attn_from_hf.ALIGN</definition>
        <argsstring></argsstring>
        <name>ALIGN</name>
        <qualifiedname>append_q4_attn_from_hf.ALIGN</qualifiedname>
        <initializer>=  64</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="11" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="11" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceappend__q4__attn__from__hf_1a82b60a9c8b15eb9af68f62bf004fddc4" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int append_q4_attn_from_hf.BLOCK_K</definition>
        <argsstring></argsstring>
        <name>BLOCK_K</name>
        <qualifiedname>append_q4_attn_from_hf.BLOCK_K</qualifiedname>
        <initializer>=  32</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="12" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="12" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a337a6dabde9dcef22cfba6698e7aba45" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition> int append_q4_attn_from_hf.align_up</definition>
        <argsstring>(int x, int a=ALIGN)</argsstring>
        <name>align_up</name>
        <qualifiedname>append_q4_attn_from_hf.align_up</qualifiedname>
        <param>
          <type>int</type>
          <declname>x</declname>
        </param>
        <param>
          <type>int</type>
          <declname>a</declname>
          <defval><ref refid="namespaceappend__q4__attn__from__hf_1a836df40b91acf9201caca77535f3e447" kindref="member">ALIGN</ref></defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="15" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="15" bodyend="18"/>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a57d85d75fa525de56bbabb90d1aace4a" compoundref="append__q4__attn__from__hf_8py" startline="231" endline="239">append_tensor</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a74d24b0d1c284ae65ba764e9dbd77e12" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>append_q4_attn_from_hf.read_safetensors_header</definition>
        <argsstring>(f)</argsstring>
        <name>read_safetensors_header</name>
        <qualifiedname>append_q4_attn_from_hf.read_safetensors_header</qualifiedname>
        <param>
          <type>f</type>
          <defname>f</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="19" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="19" bodyend="30"/>
        <referencedby refid="classappend__q4__attn__from__hf_1_1HFIndex_1aff214eacec8f97dc07a9532c5e973ae9" compoundref="append__q4__attn__from__hf_8py" startline="55" endline="65">append_q4_attn_from_hf.HFIndex._load_shard_header</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1ac500cb15172e0c1dda0f956a3a6f3982" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>np.ndarray</type>
        <definition> np.ndarray append_q4_attn_from_hf.bf16_to_f32_from_u16</definition>
        <argsstring>(np.ndarray u16)</argsstring>
        <name>bf16_to_f32_from_u16</name>
        <qualifiedname>append_q4_attn_from_hf.bf16_to_f32_from_u16</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>u16</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="31" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="31" bodyend="35"/>
        <referencedby refid="classappend__q4__attn__from__hf_1_1HFIndex_1ad63daae35312f4daeb2df0eab81d256f" compoundref="append__q4__attn__from__hf_8py" startline="85" endline="111">append_q4_attn_from_hf.HFIndex.read_tensor_f32</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a66a2678b536d7bf2c0d2aded99d355bf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>np.ndarray</type>
        <definition> np.ndarray append_q4_attn_from_hf.f32_to_bf16_u16</definition>
        <argsstring>(np.ndarray x)</argsstring>
        <name>f32_to_bf16_u16</name>
        <qualifiedname>append_q4_attn_from_hf.f32_to_bf16_u16</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>x</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="36" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="36" bodyend="41"/>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a35974401d69f55a1ba970decc93f4768" compoundref="append__q4__attn__from__hf_8py" startline="126" endline="159">quantize_q4_0_blocks</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a896786cecd55907765bffb81936fecf9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>np.ndarray</type>
        <definition> np.ndarray append_q4_attn_from_hf.orient_linear_weight</definition>
        <argsstring>(np.ndarray w, int in_features, int out_features, str name)</argsstring>
        <name>orient_linear_weight</name>
        <qualifiedname>append_q4_attn_from_hf.orient_linear_weight</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>w</declname>
        </param>
        <param>
          <type>int</type>
          <declname>in_features</declname>
        </param>
        <param>
          <type>int</type>
          <declname>out_features</declname>
        </param>
        <param>
          <type>str</type>
          <declname>name</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="112" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="112" bodyend="125"/>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" compoundref="append__q4__attn__from__hf_8py" startline="240" endline="324">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a35974401d69f55a1ba970decc93f4768" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>append_q4_attn_from_hf.quantize_q4_0_blocks</definition>
        <argsstring>(np.ndarray mat_f32, int block_k=BLOCK_K)</argsstring>
        <name>quantize_q4_0_blocks</name>
        <qualifiedname>append_q4_attn_from_hf.quantize_q4_0_blocks</qualifiedname>
        <param>
          <type>np.ndarray</type>
          <declname>mat_f32</declname>
        </param>
        <param>
          <type>int</type>
          <declname>block_k</declname>
          <defval><ref refid="namespaceappend__q4__attn__from__hf_1a82b60a9c8b15eb9af68f62bf004fddc4" kindref="member">BLOCK_K</ref></defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="126" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="126" bodyend="159"/>
        <references refid="namespaceappend__q4__attn__from__hf_1a66a2678b536d7bf2c0d2aded99d355bf" compoundref="append__q4__attn__from__hf_8py" startline="36" endline="41">f32_to_bf16_u16</references>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" compoundref="append__q4__attn__from__hf_8py" startline="240" endline="324">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a1b56ae11b5c6ed2f48c8c12a7f4f3ec3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition> int append_q4_attn_from_hf.infer_layers</definition>
        <argsstring>(dict weight_map)</argsstring>
        <name>infer_layers</name>
        <qualifiedname>append_q4_attn_from_hf.infer_layers</qualifiedname>
        <param>
          <type>dict</type>
          <declname>weight_map</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="160" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="160" bodyend="180"/>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" compoundref="append__q4__attn__from__hf_8py" startline="240" endline="324">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a1e20f585dadee21684835368a024b2cd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition> int append_q4_attn_from_hf.find_d_model</definition>
        <argsstring>(dict compat_json, HFIndex hf)</argsstring>
        <name>find_d_model</name>
        <qualifiedname>append_q4_attn_from_hf.find_d_model</qualifiedname>
        <param>
          <type>dict</type>
          <declname>compat_json</declname>
        </param>
        <param>
          <type><ref refid="classappend__q4__attn__from__hf_1_1HFIndex" kindref="compound">HFIndex</ref></type>
          <declname>hf</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="181" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="181" bodyend="197"/>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" compoundref="append__q4__attn__from__hf_8py" startline="240" endline="324">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1ae20c1738aac6f8f3e4bccfe59c8aee06" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>tuple[int, int]</type>
        <definition> tuple[int, int] append_q4_attn_from_hf.infer_attn_dims</definition>
        <argsstring>(HFIndex hf, int d_model)</argsstring>
        <name>infer_attn_dims</name>
        <qualifiedname>append_q4_attn_from_hf.infer_attn_dims</qualifiedname>
        <param>
          <type><ref refid="classappend__q4__attn__from__hf_1_1HFIndex" kindref="compound">HFIndex</ref></type>
          <declname>hf</declname>
        </param>
        <param>
          <type>int</type>
          <declname>d_model</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="198" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="198" bodyend="230"/>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" compoundref="append__q4__attn__from__hf_8py" startline="240" endline="324">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a57d85d75fa525de56bbabb90d1aace4a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>tuple[int, int]</type>
        <definition> tuple[int, int] append_q4_attn_from_hf.append_tensor</definition>
        <argsstring>(bin_f, bytes data, int align)</argsstring>
        <name>append_tensor</name>
        <qualifiedname>append_q4_attn_from_hf.append_tensor</qualifiedname>
        <param>
          <type>bin_f</type>
          <defname>bin_f</defname>
        </param>
        <param>
          <type>bytes</type>
          <declname>data</declname>
        </param>
        <param>
          <type>int</type>
          <declname>align</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="231" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="231" bodyend="239"/>
        <references refid="namespaceappend__q4__attn__from__hf_1a337a6dabde9dcef22cfba6698e7aba45" compoundref="append__q4__attn__from__hf_8py" startline="15" endline="18">align_up</references>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" compoundref="append__q4__attn__from__hf_8py" startline="240" endline="324">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>append_q4_attn_from_hf.main</definition>
        <argsstring>()</argsstring>
        <name>main</name>
        <qualifiedname>append_q4_attn_from_hf.main</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="scripts/append_q4_attn_from_hf.py" line="240" column="1" bodyfile="scripts/append_q4_attn_from_hf.py" bodystart="240" bodyend="324"/>
        <references refid="namespaceappend__q4__attn__from__hf_1a57d85d75fa525de56bbabb90d1aace4a" compoundref="append__q4__attn__from__hf_8py" startline="231" endline="239">append_tensor</references>
        <references refid="namespaceappend__q4__attn__from__hf_1a1e20f585dadee21684835368a024b2cd" compoundref="append__q4__attn__from__hf_8py" startline="181" endline="197">find_d_model</references>
        <references refid="namespaceappend__q4__attn__from__hf_1ae20c1738aac6f8f3e4bccfe59c8aee06" compoundref="append__q4__attn__from__hf_8py" startline="198" endline="230">infer_attn_dims</references>
        <references refid="namespaceappend__q4__attn__from__hf_1a1b56ae11b5c6ed2f48c8c12a7f4f3ec3" compoundref="append__q4__attn__from__hf_8py" startline="160" endline="180">infer_layers</references>
        <references refid="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" compoundref="append__q4__attn__from__hf_8py" startline="240" endline="324">main</references>
        <references refid="namespaceappend__q4__attn__from__hf_1a896786cecd55907765bffb81936fecf9" compoundref="append__q4__attn__from__hf_8py" startline="112" endline="125">orient_linear_weight</references>
        <references refid="namespaceappend__q4__attn__from__hf_1a35974401d69f55a1ba970decc93f4768" compoundref="append__q4__attn__from__hf_8py" startline="126" endline="159">quantize_q4_0_blocks</references>
        <referencedby refid="namespaceappend__q4__attn__from__hf_1a2a12d391d18b7f560b8b51b9c7c86b97" compoundref="append__q4__attn__from__hf_8py" startline="240" endline="324">main</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <location file="scripts/append_q4_attn_from_hf.py" line="1" column="1"/>
  </compounddef>
</doxygen>
