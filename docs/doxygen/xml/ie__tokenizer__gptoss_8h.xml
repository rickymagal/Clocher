<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="ie__tokenizer__gptoss_8h" kind="file" language="C++">
    <compoundname>ie_tokenizer_gptoss.h</compoundname>
    <includes local="no">stddef.h</includes>
    <includes local="no">stdint.h</includes>
    <includedby refid="generate__gptoss_8h" local="yes">engine/include/generate_gptoss.h</includedby>
    <includedby refid="ie__api_8c" local="yes">engine/src/ie_api.c</includedby>
    <includedby refid="tokenizer__gptoss_8c" local="yes">engine/src/io/tokenizer_gptoss.c</includedby>
    <includedby refid="main__chat_8c" local="yes">engine/src/main_chat.c</includedby>
    <includedby refid="main__infer_8c" local="yes">engine/src/main_infer.c</includedby>
    <includedby refid="generate__gptoss_8c" local="yes">engine/src/runtime/generate_gptoss.c</includedby>
    <incdepgraph>
      <node id="1">
        <label>engine/include/ie_tokenizer_gptoss.h</label>
        <link refid="ie__tokenizer__gptoss_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>stddef.h</label>
      </node>
      <node id="3">
        <label>stdint.h</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="2">
        <label>engine/include/generate_gptoss.h</label>
        <link refid="generate__gptoss_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>engine/include/ie_tokenizer_gptoss.h</label>
        <link refid="ie__tokenizer__gptoss_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>engine/src/ie_api.c</label>
        <link refid="ie__api_8c"/>
      </node>
      <node id="5">
        <label>engine/src/io/tokenizer_gptoss.c</label>
        <link refid="tokenizer__gptoss_8c"/>
      </node>
      <node id="6">
        <label>engine/src/main_chat.c</label>
        <link refid="main__chat_8c"/>
      </node>
      <node id="7">
        <label>engine/src/main_infer.c</label>
        <link refid="main__infer_8c"/>
      </node>
      <node id="3">
        <label>engine/src/runtime/generate_gptoss.c</label>
        <link refid="generate__gptoss_8c"/>
      </node>
    </invincdepgraph>
    <sectiondef kind="enum">
      <memberdef kind="enum" id="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2" prot="public" static="no" strong="no">
        <type></type>
        <name>ie_tok_gptoss_status_e</name>
        <enumvalue id="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a6e804d975236c9745c44c1db1baed259" prot="public">
          <name>IE_TOK_GPTOSS_OK</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a2bf73548c30949834b4c282d79ef32d4" prot="public">
          <name>IE_TOK_GPTOSS_ERR_ARGS</name>
          <initializer>= -1</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a7635c982b781a8ef569aded5c8cbcef7" prot="public">
          <name>IE_TOK_GPTOSS_ERR_IO</name>
          <initializer>= -2</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a5b6eb590f3790b4e61df67c181dbf6e6" prot="public">
          <name>IE_TOK_GPTOSS_ERR_JSON</name>
          <initializer>= -3</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2aa85c45ba03e4d24b20dd6c893b7e5c66" prot="public">
          <name>IE_TOK_GPTOSS_ERR_NOMEM</name>
          <initializer>= -4</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2afeff254edf6b97edc55beca818a7dea9" prot="public">
          <name>IE_TOK_GPTOSS_ERR_RANGE</name>
          <initializer>= -5</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a12ba28164c55026e3f7e5301a6ac0189" prot="public">
          <name>IE_TOK_GPTOSS_ERR_INTERNAL</name>
          <initializer>= -6</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_tokenizer_gptoss.h" line="37" column="1" bodyfile="engine/include/ie_tokenizer_gptoss.h" bodystart="37" bodyend="45"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="typedef">
      <memberdef kind="typedef" id="ie__tokenizer__gptoss_8h_1ae1b205a897f0ece89cc8f2899acc0543" prot="public" static="no">
        <type>struct <ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_s</ref></type>
        <definition>typedef struct ie_tok_gptoss_s ie_tok_gptoss_t</definition>
        <argsstring></argsstring>
        <name>ie_tok_gptoss_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_tokenizer_gptoss.h" line="35" column="30" bodyfile="engine/include/ie_tokenizer_gptoss.h" bodystart="35" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="ie__tokenizer__gptoss_8h_1a09f39b011164c4c29aa92a25ffbaa55c" prot="public" static="no">
        <type>enum <ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2" kindref="member">ie_tok_gptoss_status_e</ref></type>
        <definition>typedef enum ie_tok_gptoss_status_e ie_tok_gptoss_status_t</definition>
        <argsstring></argsstring>
        <name>ie_tok_gptoss_status_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_tokenizer_gptoss.h" line="45" column="24"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="ie__tokenizer__gptoss_8h_1ae5c55dc1502414c60d1a99fa9fbdf1bc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int ie_tok_gptoss_open</definition>
        <argsstring>(const char *tokenizer_path, ie_tok_gptoss_t **out_tok)</argsstring>
        <name>ie_tok_gptoss_open</name>
        <param>
          <type>const char *</type>
          <declname>tokenizer_path</declname>
        </param>
        <param>
          <type><ref refid="ie__tokenizer__gptoss_8h_1ae1b205a897f0ece89cc8f2899acc0543" kindref="member">ie_tok_gptoss_t</ref> **</type>
          <declname>out_tok</declname>
        </param>
        <briefdescription>
<para>Open a tokenizer from: </para>
        </briefdescription>
        <detaileddescription>
<para><itemizedlist>
<listitem><para>tokenizer.json</para>
</listitem><listitem><para>tokenizer.tiktoken</para>
</listitem><listitem><para>packed IETOK1 file</para>
</listitem></itemizedlist>
</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">tokenizer_path</parametername>
</parameternamelist>
<parameterdescription>
<para>Path to tokenizer file. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">out_tok</parametername>
</parameternamelist>
<parameterdescription>
<para>Tokenizer handle. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>IE_TOK_GPTOSS_OK on success, negative error otherwise. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_tokenizer_gptoss.h" line="57" column="5" bodyfile="engine/src/io/tokenizer_gptoss.c" bodystart="1761" bodyend="1793" declfile="engine/include/ie_tokenizer_gptoss.h" declline="57" declcolumn="5"/>
        <references refid="structie__tok__gptoss__s_1a7a6cf311089944345634de611a756678" compoundref="tokenizer__gptoss_8c" startline="805">ie_tok_gptoss_s::bu</references>
        <references refid="tokenizer__gptoss_8c_1ad4c1b8d22b27793678d951b45034176d" compoundref="tokenizer__gptoss_8c" startline="635" endline="656">byteunicode_init</references>
        <references refid="tokenizer__gptoss_8c_1ad4b875bec514bb9c1de945944e1596de" compoundref="tokenizer__gptoss_8c" startline="1795" endline="1811">ie_tok_gptoss_close</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a2bf73548c30949834b4c282d79ef32d4" compoundref="ie__tokenizer__gptoss_8h" startline="39">IE_TOK_GPTOSS_ERR_ARGS</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a7635c982b781a8ef569aded5c8cbcef7" compoundref="ie__tokenizer__gptoss_8h" startline="40">IE_TOK_GPTOSS_ERR_IO</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a5b6eb590f3790b4e61df67c181dbf6e6" compoundref="ie__tokenizer__gptoss_8h" startline="41">IE_TOK_GPTOSS_ERR_JSON</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2aa85c45ba03e4d24b20dd6c893b7e5c66" compoundref="ie__tokenizer__gptoss_8h" startline="42">IE_TOK_GPTOSS_ERR_NOMEM</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a6e804d975236c9745c44c1db1baed259" compoundref="ie__tokenizer__gptoss_8h" startline="38">IE_TOK_GPTOSS_OK</references>
        <references refid="tokenizer__gptoss_8c_1ab46d669ba9cff8f9da6f83855783db7b" compoundref="tokenizer__gptoss_8c" startline="1276" endline="1279">is_packed_tokenizer</references>
        <references refid="tokenizer__gptoss_8c_1a232e17961642239dec21aad8eb19b287" compoundref="tokenizer__gptoss_8c" startline="1149" endline="1163">parse_tokenizer_json</references>
        <references refid="tokenizer__gptoss_8c_1adf511a811d96d1b3b8892529ed1088d1" compoundref="tokenizer__gptoss_8c" startline="1210" endline="1274">parse_tokenizer_packed</references>
        <references refid="tokenizer__gptoss_8c_1a32e83b198fce9015f852f307d2bf2953" compoundref="tokenizer__gptoss_8c" startline="1385" endline="1459">parse_tokenizer_tiktoken</references>
        <references refid="tokenizer__gptoss_8c_1aa12e2f8ade90f9aefa8f1562d02965b8" compoundref="tokenizer__gptoss_8c" startline="112" endline="118">path_ends_with</references>
        <references refid="tokenizer__gptoss_8c_1a84e8a603fef81b42cc1913caf9216f13" compoundref="tokenizer__gptoss_8c" startline="87" endline="110">read_all_bytes</references>
        <references refid="tokenizer__gptoss_8c_1a981c4f4b5894b549eb0b2f0358810c67" compoundref="tokenizer__gptoss_8c" startline="68" endline="72">xcalloc</references>
        <referencedby refid="main__infer_8c_1a4e30eb4737647a78c4dbebb5b008a5bd" compoundref="main__infer_8c" startline="866" endline="965">decode_tokens_best_effort</referencedby>
        <referencedby refid="ie__api_8h_1a84bd87043352946e9d53b0f8a5c4abe0" compoundref="ie__api_8c" startline="535" endline="786">ie_engine_create</referencedby>
        <referencedby refid="main__chat_8c_1a3c04138a5bfe5d72780bb7e82a18e627" compoundref="main__chat_8c" startline="185" endline="231">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="ie__tokenizer__gptoss_8h_1ad4b875bec514bb9c1de945944e1596de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ie_tok_gptoss_close</definition>
        <argsstring>(ie_tok_gptoss_t *tok)</argsstring>
        <name>ie_tok_gptoss_close</name>
        <param>
          <type><ref refid="ie__tokenizer__gptoss_8h_1ae1b205a897f0ece89cc8f2899acc0543" kindref="member">ie_tok_gptoss_t</ref> *</type>
          <declname>tok</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_tokenizer_gptoss.h" line="59" column="6" bodyfile="engine/src/io/tokenizer_gptoss.c" bodystart="1795" bodyend="1811" declfile="engine/include/ie_tokenizer_gptoss.h" declline="59" declcolumn="6"/>
        <references refid="tokenizer__gptoss_8c_1ab8470327b8dacfc6949303c5b052a402" compoundref="tokenizer__gptoss_8c" startline="733" endline="741">bytearena_free</references>
        <references refid="structie__tok__gptoss__s_1a52cb1e3de301055d8bd236415e78d897" compoundref="tokenizer__gptoss_8c" startline="809">ie_tok_gptoss_s::bytes_to_id</references>
        <references refid="structie__tok__gptoss__s_1a276274c2cba2e0c82defdcf87bd2231a" compoundref="tokenizer__gptoss_8c" startline="808">ie_tok_gptoss_s::id_to_bytes</references>
        <references refid="structie__tok__gptoss__s_1a4417459614f97a9b31de9fc980450595" compoundref="tokenizer__gptoss_8c" startline="799">ie_tok_gptoss_s::id_to_tok</references>
        <references refid="structie__tok__gptoss__s_1ac8e89185a8724c5fc8ba846dd3ce7ca1" compoundref="tokenizer__gptoss_8c" startline="804">ie_tok_gptoss_s::intern</references>
        <references refid="tokenizer__gptoss_8c_1a118bc90519292f54b3513029942a3867" compoundref="tokenizer__gptoss_8c" startline="565" endline="570">intern_free</references>
        <references refid="structie__tok__gptoss__s_1a2ecbb2af5975a3422496474dc46bee28" compoundref="tokenizer__gptoss_8c" startline="802">ie_tok_gptoss_s::pair_to_rank</references>
        <references refid="structie__tok__gptoss__s_1afb1bc0375c07e79a7b248163a17f6251" compoundref="tokenizer__gptoss_8c" startline="800">ie_tok_gptoss_s::tok_to_id</references>
        <references refid="structie__tok__gptoss__s_1ade8b0a7e2551f0bf21afd715f5ac108c" compoundref="tokenizer__gptoss_8c" startline="811">ie_tok_gptoss_s::tt_arena</references>
        <references refid="structie__tok__gptoss__s_1ae859adc2daece05fc5bd98b3f8cb913e" compoundref="tokenizer__gptoss_8c" startline="796">ie_tok_gptoss_s::vocab_size</references>
        <referencedby refid="main__infer_8c_1a4e30eb4737647a78c4dbebb5b008a5bd" compoundref="main__infer_8c" startline="866" endline="965">decode_tokens_best_effort</referencedby>
        <referencedby refid="ie__api_8h_1a84bd87043352946e9d53b0f8a5c4abe0" compoundref="ie__api_8c" startline="535" endline="786">ie_engine_create</referencedby>
        <referencedby refid="ie__api_8h_1a5a9a30f05ef6183f6a75811c616b3a0a" compoundref="ie__api_8c" startline="788" endline="816">ie_engine_destroy</referencedby>
        <referencedby refid="ie__tokenizer__gptoss_8h_1ae5c55dc1502414c60d1a99fa9fbdf1bc" compoundref="tokenizer__gptoss_8c" startline="1761" endline="1793">ie_tok_gptoss_open</referencedby>
        <referencedby refid="main__chat_8c_1a3c04138a5bfe5d72780bb7e82a18e627" compoundref="main__chat_8c" startline="185" endline="231">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="ie__tokenizer__gptoss_8h_1a0a4146017408baa0a07ffa747dfae870" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t ie_tok_gptoss_vocab_size</definition>
        <argsstring>(const ie_tok_gptoss_t *tok)</argsstring>
        <name>ie_tok_gptoss_vocab_size</name>
        <param>
          <type>const <ref refid="ie__tokenizer__gptoss_8h_1ae1b205a897f0ece89cc8f2899acc0543" kindref="member">ie_tok_gptoss_t</ref> *</type>
          <declname>tok</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_tokenizer_gptoss.h" line="61" column="10" bodyfile="engine/src/io/tokenizer_gptoss.c" bodystart="1813" bodyend="1816" declfile="engine/include/ie_tokenizer_gptoss.h" declline="61" declcolumn="10"/>
        <references refid="structie__tok__gptoss__s_1ae859adc2daece05fc5bd98b3f8cb913e" compoundref="tokenizer__gptoss_8c" startline="796">ie_tok_gptoss_s::vocab_size</references>
        <referencedby refid="ie__api_8h_1a84bd87043352946e9d53b0f8a5c4abe0" compoundref="ie__api_8c" startline="535" endline="786">ie_engine_create</referencedby>
      </memberdef>
      <memberdef kind="function" id="ie__tokenizer__gptoss_8h_1a171cd54148a22d4fd7c1c8d1e9f010de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int ie_tok_gptoss_encode</definition>
        <argsstring>(const ie_tok_gptoss_t *tok, const char *text, uint32_t *ids, uint32_t *inout_count)</argsstring>
        <name>ie_tok_gptoss_encode</name>
        <param>
          <type>const <ref refid="ie__tokenizer__gptoss_8h_1ae1b205a897f0ece89cc8f2899acc0543" kindref="member">ie_tok_gptoss_t</ref> *</type>
          <declname>tok</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>text</declname>
        </param>
        <param>
          <type>uint32_t *</type>
          <declname>ids</declname>
        </param>
        <param>
          <type>uint32_t *</type>
          <declname>inout_count</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_tokenizer_gptoss.h" line="63" column="5" bodyfile="engine/src/io/tokenizer_gptoss.c" bodystart="1891" bodyend="1946" declfile="engine/include/ie_tokenizer_gptoss.h" declline="63" declcolumn="5"/>
        <references refid="tokenizer__gptoss_8c_1a25fb92de16ca991b41ddb7448780cd1d" compoundref="tokenizer__gptoss_8c" startline="1553" endline="1660">bpe_encode_to_ids_gpt2</references>
        <references refid="structie__tok__gptoss__s_1a7a6cf311089944345634de611a756678" compoundref="tokenizer__gptoss_8c" startline="805">ie_tok_gptoss_s::bu</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a2bf73548c30949834b4c282d79ef32d4" compoundref="ie__tokenizer__gptoss_8h" startline="39">IE_TOK_GPTOSS_ERR_ARGS</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a12ba28164c55026e3f7e5301a6ac0189" compoundref="ie__tokenizer__gptoss_8h" startline="44">IE_TOK_GPTOSS_ERR_INTERNAL</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2afeff254edf6b97edc55beca818a7dea9" compoundref="ie__tokenizer__gptoss_8h" startline="43">IE_TOK_GPTOSS_ERR_RANGE</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a6e804d975236c9745c44c1db1baed259" compoundref="ie__tokenizer__gptoss_8h" startline="38">IE_TOK_GPTOSS_OK</references>
        <references refid="tokenizer__gptoss_8c_1a4929967a6058f8fd4514406367d533c0acf2aa74fdd5fb42dd8757c120defadca" compoundref="tokenizer__gptoss_8c" startline="786">IE_TOK_MODE_TIKTOKEN</references>
        <references refid="structie__tok__gptoss__s_1a41e8b48ef7e4d9c2ac9b53c06681efba" compoundref="tokenizer__gptoss_8c" startline="795">ie_tok_gptoss_s::mode</references>
        <references refid="structu32buf__s_1a69bb223dbff5f86425d029f71f2e800b" compoundref="tokenizer__gptoss_8c" startline="670">u32buf_s::n</references>
        <references refid="structstrbuf__s_1a96ac4933915be79e2d62aaf6d0a757cf" compoundref="tokenizer__gptoss_8c" startline="689">strbuf_s::n</references>
        <references refid="tokenizer__gptoss_8c_1a2d0b020d093299557c89f6753c85ddf2" compoundref="tokenizer__gptoss_8c" startline="1478" endline="1550">pretokenize_basic</references>
        <references refid="tokenizer__gptoss_8c_1ae1e8b4fd77be0253a87c488246992c63" compoundref="tokenizer__gptoss_8c" startline="713" endline="717">strbuf_free</references>
        <references refid="tokenizer__gptoss_8c_1a5f7b595a9a9d4bd08b783020e9a6b637" compoundref="tokenizer__gptoss_8c" startline="693" endline="703">strbuf_reserve</references>
        <references refid="tokenizer__gptoss_8c_1af25b623505fecd332b0925d6c5c1dea2" compoundref="tokenizer__gptoss_8c" startline="1465" endline="1476">to_bytelevel_unicode</references>
        <references refid="tokenizer__gptoss_8c_1a316196e2c96c525919801e2cdd715806" compoundref="tokenizer__gptoss_8c" startline="1736" endline="1755">tt_encode_text</references>
        <references refid="structu32buf__s_1a63ffad1f267a58867d21cc7b6b6f81ee" compoundref="tokenizer__gptoss_8c" startline="669">u32buf_s::v</references>
        <references refid="structstrbuf__s_1a4e51c5e374bc46c553e4d80459d0c56b" compoundref="tokenizer__gptoss_8c" startline="688">strbuf_s::v</references>
        <referencedby refid="main__chat_8c_1a85977bfad7ce939338220eda76285abd" compoundref="main__chat_8c" startline="110" endline="139">cmd_encode</referencedby>
        <referencedby refid="main__chat_8c_1ac47c278fe62ce7ee4c6901d302bb155f" compoundref="main__chat_8c" startline="141" endline="183">cmd_roundtrip</referencedby>
        <referencedby refid="ie__api_8h_1a950ac9a0efe5a4fe068a288e57099c4a" compoundref="ie__api_8c" startline="826" endline="1109">ie_engine_generate_ex</referencedby>
        <referencedby refid="generate__gptoss_8h_1ae2b49a4109c69ec3ff996adea490690d" compoundref="generate__gptoss_8c" startline="38" endline="213">ie_generate_gptoss</referencedby>
      </memberdef>
      <memberdef kind="function" id="ie__tokenizer__gptoss_8h_1ae372932b3912864351defd6ce553ed88" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int ie_tok_gptoss_decode</definition>
        <argsstring>(const ie_tok_gptoss_t *tok, const uint32_t *ids, uint32_t count, char *out, size_t *inout_bytes)</argsstring>
        <name>ie_tok_gptoss_decode</name>
        <param>
          <type>const <ref refid="ie__tokenizer__gptoss_8h_1ae1b205a897f0ece89cc8f2899acc0543" kindref="member">ie_tok_gptoss_t</ref> *</type>
          <declname>tok</declname>
        </param>
        <param>
          <type>const uint32_t *</type>
          <declname>ids</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>count</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>out</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>inout_bytes</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="engine/include/ie_tokenizer_gptoss.h" line="68" column="5" bodyfile="engine/src/io/tokenizer_gptoss.c" bodystart="1818" bodyend="1889" declfile="engine/include/ie_tokenizer_gptoss.h" declline="68" declcolumn="5"/>
        <references refid="structie__tok__gptoss__s_1a7a6cf311089944345634de611a756678" compoundref="tokenizer__gptoss_8c" startline="805">ie_tok_gptoss_s::bu</references>
        <references refid="tokenizer__gptoss_8c_1a501bba302f86962f8c5332144c6271a8" compoundref="tokenizer__gptoss_8c" startline="658" endline="662">byteunicode_cp_to_byte</references>
        <references refid="structie__tok__gptoss__s_1a276274c2cba2e0c82defdcf87bd2231a" compoundref="tokenizer__gptoss_8c" startline="808">ie_tok_gptoss_s::id_to_bytes</references>
        <references refid="structie__tok__gptoss__s_1a4417459614f97a9b31de9fc980450595" compoundref="tokenizer__gptoss_8c" startline="799">ie_tok_gptoss_s::id_to_tok</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a2bf73548c30949834b4c282d79ef32d4" compoundref="ie__tokenizer__gptoss_8h" startline="39">IE_TOK_GPTOSS_ERR_ARGS</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a12ba28164c55026e3f7e5301a6ac0189" compoundref="ie__tokenizer__gptoss_8h" startline="44">IE_TOK_GPTOSS_ERR_INTERNAL</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2aa85c45ba03e4d24b20dd6c893b7e5c66" compoundref="ie__tokenizer__gptoss_8h" startline="42">IE_TOK_GPTOSS_ERR_NOMEM</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2afeff254edf6b97edc55beca818a7dea9" compoundref="ie__tokenizer__gptoss_8h" startline="43">IE_TOK_GPTOSS_ERR_RANGE</references>
        <references refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a6e804d975236c9745c44c1db1baed259" compoundref="ie__tokenizer__gptoss_8h" startline="38">IE_TOK_GPTOSS_OK</references>
        <references refid="tokenizer__gptoss_8c_1a4929967a6058f8fd4514406367d533c0acf2aa74fdd5fb42dd8757c120defadca" compoundref="tokenizer__gptoss_8c" startline="786">IE_TOK_MODE_TIKTOKEN</references>
        <references refid="structie__tok__gptoss__s_1a41e8b48ef7e4d9c2ac9b53c06681efba" compoundref="tokenizer__gptoss_8c" startline="795">ie_tok_gptoss_s::mode</references>
        <references refid="structstrbuf__s_1a96ac4933915be79e2d62aaf6d0a757cf" compoundref="tokenizer__gptoss_8c" startline="689">strbuf_s::n</references>
        <references refid="structbytes__view__s_1a7563d683f8aebfd7c45a11e8ee386d98" compoundref="tokenizer__gptoss_8c" startline="791">bytes_view_s::n</references>
        <references refid="structbytes__view__s_1a1a3cb300987ca32a9fe4adf6423d9db5" compoundref="tokenizer__gptoss_8c" startline="790">bytes_view_s::p</references>
        <references refid="tokenizer__gptoss_8c_1a7c972b84c8f4ce52042d97c576c1485b" compoundref="tokenizer__gptoss_8c" startline="705" endline="711">strbuf_append_bytes</references>
        <references refid="tokenizer__gptoss_8c_1ae1e8b4fd77be0253a87c488246992c63" compoundref="tokenizer__gptoss_8c" startline="713" endline="717">strbuf_free</references>
        <references refid="tokenizer__gptoss_8c_1a5f7b595a9a9d4bd08b783020e9a6b637" compoundref="tokenizer__gptoss_8c" startline="693" endline="703">strbuf_reserve</references>
        <references refid="tokenizer__gptoss_8c_1a65dda7706f1a61f0bb0affe18aae7e87" compoundref="tokenizer__gptoss_8c" startline="124" endline="149">utf8_next_cp</references>
        <references refid="tokenizer__gptoss_8c_1a76ab1829431e0d4b5530c5a262de3d95" compoundref="tokenizer__gptoss_8c" startline="151" endline="176">utf8_put_cp</references>
        <references refid="structstrbuf__s_1a4e51c5e374bc46c553e4d80459d0c56b" compoundref="tokenizer__gptoss_8c" startline="688">strbuf_s::v</references>
        <references refid="structie__tok__gptoss__s_1ae859adc2daece05fc5bd98b3f8cb913e" compoundref="tokenizer__gptoss_8c" startline="796">ie_tok_gptoss_s::vocab_size</references>
        <referencedby refid="main__chat_8c_1ae896159f978561c1c42b20fbd05559e4" compoundref="main__chat_8c" startline="73" endline="108">cmd_decode</referencedby>
        <referencedby refid="main__chat_8c_1ac47c278fe62ce7ee4c6901d302bb155f" compoundref="main__chat_8c" startline="141" endline="183">cmd_roundtrip</referencedby>
        <referencedby refid="ie__api_8c_1af4b6edd2486afdb267a858511e63c42f" compoundref="ie__api_8c" startline="453" endline="490">decode_piece_preview_</referencedby>
        <referencedby refid="main__infer_8c_1a4e30eb4737647a78c4dbebb5b008a5bd" compoundref="main__infer_8c" startline="866" endline="965">decode_tokens_best_effort</referencedby>
        <referencedby refid="ie__api_8h_1a950ac9a0efe5a4fe068a288e57099c4a" compoundref="ie__api_8c" startline="826" endline="1109">ie_engine_generate_ex</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>GPT-OSS tokenizer loader + encode/decode for: </para>
    </briefdescription>
    <detaileddescription>
<para><itemizedlist>
<listitem><para>HuggingFace <computeroutput>tokenizer.json</computeroutput> (GPT-2 Byte-Level BPE style)</para>
</listitem><listitem><para>OpenAI-style <computeroutput>.tiktoken</computeroutput> rank files (base64 token bytes + rank)</para>
</listitem><listitem><para>Packed <computeroutput>IETOK1</computeroutput> format (recommended)</para>
</listitem></itemizedlist>
</para>
<para>Design notes:<itemizedlist>
<listitem><para>No third-party JSON library is used.</para>
</listitem><listitem><para><computeroutput>.tiktoken</computeroutput> tokens are stored as raw bytes (binary-safe).</para>
</listitem><listitem><para>Decode must be correct for &quot;token ids -&gt; coherent text&quot;.</para>
</listitem><listitem><para>Encode is correctness-first. For <computeroutput>.tiktoken</computeroutput>, we apply byte-level BPE per whitespace/non-whitespace segments (conservative split) to avoid merging across obvious boundaries.</para>
</listitem></itemizedlist>
</para>
<para>Thread-safety:<itemizedlist>
<listitem><para>A tokenizer handle is read-only after open. Encode/decode are re-entrant as long as the caller provides independent output buffers. </para>
</listitem></itemizedlist>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/>==========================================================================</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>File:<sp/>engine/include/ie_tokenizer_gptoss.h</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>==========================================================================</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*/</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>IE_TOKENIZER_GPTOSS_H_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>IE_TOKENIZER_GPTOSS_H_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stddef.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdint.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="ie__tokenizer__gptoss_8h_1ae1b205a897f0ece89cc8f2899acc0543" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_s</ref><sp/><ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_t</ref>;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2" kindref="member">ie_tok_gptoss_status_e</ref><sp/>{</highlight></codeline>
<codeline lineno="38" refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a6e804d975236c9745c44c1db1baed259" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a6e804d975236c9745c44c1db1baed259" kindref="member">IE_TOK_GPTOSS_OK</ref><sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="39" refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a2bf73548c30949834b4c282d79ef32d4" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a2bf73548c30949834b4c282d79ef32d4" kindref="member">IE_TOK_GPTOSS_ERR_ARGS</ref><sp/>=<sp/>-1,</highlight></codeline>
<codeline lineno="40" refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a7635c982b781a8ef569aded5c8cbcef7" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a7635c982b781a8ef569aded5c8cbcef7" kindref="member">IE_TOK_GPTOSS_ERR_IO</ref><sp/>=<sp/>-2,</highlight></codeline>
<codeline lineno="41" refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a5b6eb590f3790b4e61df67c181dbf6e6" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a5b6eb590f3790b4e61df67c181dbf6e6" kindref="member">IE_TOK_GPTOSS_ERR_JSON</ref><sp/>=<sp/>-3,</highlight></codeline>
<codeline lineno="42" refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2aa85c45ba03e4d24b20dd6c893b7e5c66" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2aa85c45ba03e4d24b20dd6c893b7e5c66" kindref="member">IE_TOK_GPTOSS_ERR_NOMEM</ref><sp/>=<sp/>-4,</highlight></codeline>
<codeline lineno="43" refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2afeff254edf6b97edc55beca818a7dea9" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2afeff254edf6b97edc55beca818a7dea9" kindref="member">IE_TOK_GPTOSS_ERR_RANGE</ref><sp/>=<sp/>-5,</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><ref refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a12ba28164c55026e3f7e5301a6ac0189" kindref="member">IE_TOK_GPTOSS_ERR_INTERNAL</ref><sp/>=<sp/>-6</highlight></codeline>
<codeline lineno="45" refid="ie__tokenizer__gptoss_8h_1a1305696bd5b44e9ad4e2b624ce1b59f2a12ba28164c55026e3f7e5301a6ac0189" refkind="member"><highlight class="normal">}<sp/><ref refid="ie__tokenizer__gptoss_8h_1a09f39b011164c4c29aa92a25ffbaa55c" kindref="member">ie_tok_gptoss_status_t</ref>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="ie__tokenizer__gptoss_8h_1ae5c55dc1502414c60d1a99fa9fbdf1bc" kindref="member">ie_tok_gptoss_open</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*tokenizer_path,<sp/><ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_t</ref><sp/>**out_tok);</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="ie__tokenizer__gptoss_8h_1ad4b875bec514bb9c1de945944e1596de" kindref="member">ie_tok_gptoss_close</ref>(<ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_t</ref><sp/>*tok);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal">uint32_t<sp/><ref refid="ie__tokenizer__gptoss_8h_1a0a4146017408baa0a07ffa747dfae870" kindref="member">ie_tok_gptoss_vocab_size</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_t</ref><sp/>*tok);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="ie__tokenizer__gptoss_8h_1a171cd54148a22d4fd7c1c8d1e9f010de" kindref="member">ie_tok_gptoss_encode</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_t</ref><sp/>*tok,</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*text,</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>*ids,</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>*inout_count);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="ie__tokenizer__gptoss_8h_1ae372932b3912864351defd6ce553ed88" kindref="member">ie_tok_gptoss_decode</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structie__tok__gptoss__s" kindref="compound">ie_tok_gptoss_t</ref><sp/>*tok,</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint32_t<sp/>*ids,</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>count,</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*out,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*inout_bytes);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>extern<sp/>&quot;C&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>IE_TOKENIZER_GPTOSS_H_<sp/>*/</highlight><highlight class="preprocessor"></highlight></codeline>
    </programlisting>
    <location file="engine/include/ie_tokenizer_gptoss.h"/>
  </compounddef>
</doxygen>
