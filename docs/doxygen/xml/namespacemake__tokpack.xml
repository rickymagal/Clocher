<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="namespacemake__tokpack" kind="namespace" language="Python">
    <compoundname>make_tokpack</compoundname>
    <sectiondef kind="func">
      <memberdef kind="function" id="namespacemake__tokpack_1a439762dc0388fc8ab025ecd259ee5d8a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>None</type>
        <definition> None make_tokpack.die</definition>
        <argsstring>(str msg)</argsstring>
        <name>die</name>
        <qualifiedname>make_tokpack.die</qualifiedname>
        <param>
          <type>str</type>
          <declname>msg</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tools/make_tokpack.py" line="33" column="1" bodyfile="tools/make_tokpack.py" bodystart="33" bodyend="37"/>
        <referencedby refid="namespacemake__tokpack_1aafa27873b3cdb68739c5acfd38a7185f" compoundref="make__tokpack_8py" startline="105" endline="159">build_tokpack</referencedby>
        <referencedby refid="namespacemake__tokpack_1a1e99d581d7d4bc71f68f26d4262cb924" compoundref="make__tokpack_8py" startline="51" endline="92">extract_from_encoding</referencedby>
        <referencedby refid="namespacemake__tokpack_1a5359b669c33d28df235f9830cfe17c6f" compoundref="make__tokpack_8py" startline="38" endline="50">get_encoding_obj</referencedby>
        <referencedby refid="namespacemake__tokpack_1a691c3885c7a65d102fecdaba707a6433" compoundref="make__tokpack_8py" startline="93" endline="98">write_u16</referencedby>
        <referencedby refid="namespacemake__tokpack_1a9c27b66c395831eb76202c6a55b98a8c" compoundref="make__tokpack_8py" startline="99" endline="104">write_u32</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacemake__tokpack_1a5359b669c33d28df235f9830cfe17c6f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>make_tokpack.get_encoding_obj</definition>
        <argsstring>(str name)</argsstring>
        <name>get_encoding_obj</name>
        <qualifiedname>make_tokpack.get_encoding_obj</qualifiedname>
        <param>
          <type>str</type>
          <declname>name</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tools/make_tokpack.py" line="38" column="1" bodyfile="tools/make_tokpack.py" bodystart="38" bodyend="50"/>
        <references refid="namespacemake__tokpack_1a439762dc0388fc8ab025ecd259ee5d8a" compoundref="make__tokpack_8py" startline="33" endline="37">die</references>
        <referencedby refid="namespacemake__tokpack_1aafa27873b3cdb68739c5acfd38a7185f" compoundref="make__tokpack_8py" startline="105" endline="159">build_tokpack</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacemake__tokpack_1a1e99d581d7d4bc71f68f26d4262cb924" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>Tuple[Dict[bytes, int], Dict[str, int], str]</type>
        <definition> Tuple[Dict[bytes, int], Dict[str, int], str] make_tokpack.extract_from_encoding</definition>
        <argsstring>(Any enc)</argsstring>
        <name>extract_from_encoding</name>
        <qualifiedname>make_tokpack.extract_from_encoding</qualifiedname>
        <param>
          <type>Any</type>
          <declname>enc</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>Tries multiple internal layouts across tiktoken versions.

Returns:
  mergeable_ranks: Dict[bytes, int]
  special_tokens:  Dict[str, int]
  pat_str:         str
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tools/make_tokpack.py" line="51" column="1" bodyfile="tools/make_tokpack.py" bodystart="51" bodyend="92"/>
        <references refid="namespacemake__tokpack_1a439762dc0388fc8ab025ecd259ee5d8a" compoundref="make__tokpack_8py" startline="33" endline="37">die</references>
        <referencedby refid="namespacemake__tokpack_1aafa27873b3cdb68739c5acfd38a7185f" compoundref="make__tokpack_8py" startline="105" endline="159">build_tokpack</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacemake__tokpack_1a691c3885c7a65d102fecdaba707a6433" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>None</type>
        <definition> None make_tokpack.write_u16</definition>
        <argsstring>(f, int x)</argsstring>
        <name>write_u16</name>
        <qualifiedname>make_tokpack.write_u16</qualifiedname>
        <param>
          <type>f</type>
          <defname>f</defname>
        </param>
        <param>
          <type>int</type>
          <declname>x</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tools/make_tokpack.py" line="93" column="1" bodyfile="tools/make_tokpack.py" bodystart="93" bodyend="98"/>
        <references refid="namespacemake__tokpack_1a439762dc0388fc8ab025ecd259ee5d8a" compoundref="make__tokpack_8py" startline="33" endline="37">die</references>
        <referencedby refid="namespacemake__tokpack_1aafa27873b3cdb68739c5acfd38a7185f" compoundref="make__tokpack_8py" startline="105" endline="159">build_tokpack</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacemake__tokpack_1a9c27b66c395831eb76202c6a55b98a8c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>None</type>
        <definition> None make_tokpack.write_u32</definition>
        <argsstring>(f, int x)</argsstring>
        <name>write_u32</name>
        <qualifiedname>make_tokpack.write_u32</qualifiedname>
        <param>
          <type>f</type>
          <defname>f</defname>
        </param>
        <param>
          <type>int</type>
          <declname>x</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tools/make_tokpack.py" line="99" column="1" bodyfile="tools/make_tokpack.py" bodystart="99" bodyend="104"/>
        <references refid="namespacemake__tokpack_1a439762dc0388fc8ab025ecd259ee5d8a" compoundref="make__tokpack_8py" startline="33" endline="37">die</references>
        <referencedby refid="namespacemake__tokpack_1aafa27873b3cdb68739c5acfd38a7185f" compoundref="make__tokpack_8py" startline="105" endline="159">build_tokpack</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacemake__tokpack_1aafa27873b3cdb68739c5acfd38a7185f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>None</type>
        <definition> None make_tokpack.build_tokpack</definition>
        <argsstring>(str encoding_name, str out_path)</argsstring>
        <name>build_tokpack</name>
        <qualifiedname>make_tokpack.build_tokpack</qualifiedname>
        <param>
          <type>str</type>
          <declname>encoding_name</declname>
        </param>
        <param>
          <type>str</type>
          <declname>out_path</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tools/make_tokpack.py" line="105" column="1" bodyfile="tools/make_tokpack.py" bodystart="105" bodyend="159"/>
        <references refid="namespacemake__tokpack_1a439762dc0388fc8ab025ecd259ee5d8a" compoundref="make__tokpack_8py" startline="33" endline="37">die</references>
        <references refid="namespacemake__tokpack_1a1e99d581d7d4bc71f68f26d4262cb924" compoundref="make__tokpack_8py" startline="51" endline="92">extract_from_encoding</references>
        <references refid="namespacemake__tokpack_1a5359b669c33d28df235f9830cfe17c6f" compoundref="make__tokpack_8py" startline="38" endline="50">get_encoding_obj</references>
        <references refid="namespacemake__tokpack_1a691c3885c7a65d102fecdaba707a6433" compoundref="make__tokpack_8py" startline="93" endline="98">write_u16</references>
        <references refid="namespacemake__tokpack_1a9c27b66c395831eb76202c6a55b98a8c" compoundref="make__tokpack_8py" startline="99" endline="104">write_u32</references>
        <referencedby refid="namespacemake__tokpack_1add06282b198a7c187241b5289af5f5f6" compoundref="make__tokpack_8py" startline="160" endline="167">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespacemake__tokpack_1add06282b198a7c187241b5289af5f5f6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>None</type>
        <definition> None make_tokpack.main</definition>
        <argsstring>()</argsstring>
        <name>main</name>
        <qualifiedname>make_tokpack.main</qualifiedname>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tools/make_tokpack.py" line="160" column="1" bodyfile="tools/make_tokpack.py" bodystart="160" bodyend="167"/>
        <references refid="namespacemake__tokpack_1aafa27873b3cdb68739c5acfd38a7185f" compoundref="make__tokpack_8py" startline="105" endline="159">build_tokpack</references>
        <references refid="namespacemake__tokpack_1add06282b198a7c187241b5289af5f5f6" compoundref="make__tokpack_8py" startline="160" endline="167">main</references>
        <referencedby refid="namespacemake__tokpack_1add06282b198a7c187241b5289af5f5f6" compoundref="make__tokpack_8py" startline="160" endline="167">main</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><verbatim>Build a runtime tokenizer pack (&quot;TKPK&quot; v1) from a tiktoken encoding.

Pack format (little-endian):
  u8  magic[4] = &quot;TKPK&quot;
  u32 version  = 1
  u32 n_mergeable
  u32 n_special
  u32 pat_len
  u8  pat_bytes[pat_len]         (UTF-8)

  Repeat n_mergeable times:
    u16 len
    u8  bytes[len]               (raw bytes key)
    u32 token_id

  Repeat n_special times:
    u16 len
    u8  utf8[len]                (UTF-8 special string)
    u32 token_id
</verbatim> </para>
    </detaileddescription>
    <location file="tools/make_tokpack.py" line="1" column="1"/>
  </compounddef>
</doxygen>
