<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: main Pages: 1 -->
<svg width="596pt" height="211pt"
 viewBox="0.00 0.00 596.00 211.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 207)">
<title>main</title>
<!-- Node1 -->
<g id="Node000001" class="node">
<title>Node1</title>
<g id="a_Node000001"><a xlink:title=" ">
<polygon fill="#999999" stroke="#666666" points="41,-123 0,-123 0,-104 41,-104 41,-123"/>
<text text-anchor="middle" x="20.5" y="-111" font-family="Helvetica,sans-Serif" font-size="10.00">main</text>
</a>
</g>
</g>
<!-- Node2 -->
<g id="Node000002" class="node">
<title>Node2</title>
<g id="a_Node000002"><a xlink:href="test__batcher_8c.html#a840a5fb06d03045c6f4e645ed682b7ad" target="_top" xlink:title="Validate basic prefetch, ordering, microbatch slicing and draining.">
<polygon fill="white" stroke="#666666" points="194.5,-176.5 82.5,-176.5 82.5,-146.5 194.5,-146.5 194.5,-176.5"/>
<text text-anchor="start" x="90.5" y="-164.5" font-family="Helvetica,sans-Serif" font-size="10.00">test_basic_prefetch</text>
<text text-anchor="middle" x="138.5" y="-153.5" font-family="Helvetica,sans-Serif" font-size="10.00">_and_order</text>
</a>
</g>
</g>
<!-- Node1&#45;&gt;Node2 -->
<g id="edge1_Node000001_Node000002" class="edge">
<title>Node1&#45;&gt;Node2</title>
<g id="a_edge1_Node000001_Node000002"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M41.22,-122.2C51.79,-126.82 65.07,-132.56 77,-137.5 81.1,-139.2 85.37,-140.95 89.66,-142.68"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="88.44,-145.96 99.02,-146.44 91.05,-139.46 88.44,-145.96"/>
</a>
</g>
</g>
<!-- Node13 -->
<g id="Node000013" class="node">
<title>Node13</title>
<g id="a_Node000013"><a xlink:href="test__batcher_8c.html#acebcf748df4676af1488302913dcc33e" target="_top" xlink:title="Validate graceful teardown: destroy after partial consumption.">
<polygon fill="white" stroke="#666666" points="200,-80 77,-80 77,-61 200,-61 200,-80"/>
<text text-anchor="middle" x="138.5" y="-68" font-family="Helvetica,sans-Serif" font-size="10.00">test_partial_teardown</text>
</a>
</g>
</g>
<!-- Node1&#45;&gt;Node13 -->
<g id="edge13_Node000001_Node000013" class="edge">
<title>Node1&#45;&gt;Node13</title>
<g id="a_edge13_Node000001_Node000013"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M41.08,-104.44C51.61,-99.72 64.9,-94 77,-89.5 82.89,-87.31 89.16,-85.15 95.35,-83.12"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="96.49,-86.43 104.95,-80.04 94.36,-79.76 96.49,-86.43"/>
</a>
</g>
</g>
<!-- Node14 -->
<g id="Node000014" class="node">
<title>Node14</title>
<g id="a_Node000014"><a xlink:href="test__batcher_8c.html#ae1015c7a7a149612ed323d43e7c93a0c" target="_top" xlink:title="Validate ring wrap behavior (tail truncation) and view sizes.">
<polygon fill="white" stroke="#666666" points="196.5,-128.5 80.5,-128.5 80.5,-98.5 196.5,-98.5 196.5,-128.5"/>
<text text-anchor="start" x="88.5" y="-116.5" font-family="Helvetica,sans-Serif" font-size="10.00">test_wrap_and_view</text>
<text text-anchor="middle" x="138.5" y="-105.5" font-family="Helvetica,sans-Serif" font-size="10.00">_limits</text>
</a>
</g>
</g>
<!-- Node1&#45;&gt;Node14 -->
<g id="edge18_Node000001_Node000014" class="edge">
<title>Node1&#45;&gt;Node14</title>
<g id="a_edge18_Node000001_Node000014"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M41.18,-113.5C49.46,-113.5 59.62,-113.5 70.21,-113.5"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="70.44,-117 80.44,-113.5 70.44,-110 70.44,-117"/>
</a>
</g>
</g>
<!-- Node3 -->
<g id="Node000003" class="node">
<title>Node3</title>
<g id="a_Node000003"><a xlink:href="ie__batcher_8c.html#a32c4149e9889f52a2eb339131ecc38dc" target="_top" xlink:title="Release items previously returned by ie_batcher_get.">
<polygon fill="white" stroke="#666666" points="350,-203 236,-203 236,-184 350,-184 350,-203"/>
<text text-anchor="middle" x="293" y="-191" font-family="Helvetica,sans-Serif" font-size="10.00">ie_batcher_advance</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node3 -->
<g id="edge2_Node000002_Node000003" class="edge">
<title>Node2&#45;&gt;Node3</title>
<g id="a_edge2_Node000002_Node000003"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M194.56,-173.05C208.29,-175.93 223.01,-179.02 236.75,-181.91"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="236.05,-185.34 246.55,-183.96 237.49,-178.48 236.05,-185.34"/>
</a>
</g>
</g>
<!-- Node5 -->
<g id="Node000005" class="node">
<title>Node5</title>
<g id="a_Node000005"><a xlink:href="ie__batcher_8c.html#ab201d312c4f0fa59e31e99e221bd71f6" target="_top" xlink:title="Create a new asynchronous tokenizer batcher.">
<polygon fill="white" stroke="#666666" points="345,-55 241,-55 241,-36 345,-36 345,-55"/>
<text text-anchor="middle" x="293" y="-43" font-family="Helvetica,sans-Serif" font-size="10.00">ie_batcher_create</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node5 -->
<g id="edge4_Node000002_Node000005" class="edge">
<title>Node2&#45;&gt;Node5</title>
<g id="a_edge4_Node000002_Node000005"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M187.75,-146.34C192.18,-143.81 196.35,-140.88 200,-137.5 226.81,-112.63 208.37,-87.47 236,-63.5 237.35,-62.33 238.78,-61.23 240.27,-60.2"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="242.37,-63.04 249.35,-55.08 238.92,-56.95 242.37,-63.04"/>
</a>
</g>
</g>
<!-- Node10 -->
<g id="Node000010" class="node">
<title>Node10</title>
<g id="a_Node000010"><a xlink:href="ie__batcher_8c.html#a606dcb56c138607d9b0d77948d8b48b9" target="_top" xlink:title="Destroy a batcher, joining workers and freeing all resources.">
<polygon fill="white" stroke="#666666" points="348,-92 238,-92 238,-73 348,-73 348,-92"/>
<text text-anchor="middle" x="293" y="-80" font-family="Helvetica,sans-Serif" font-size="10.00">ie_batcher_destroy</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node10 -->
<g id="edge9_Node000002_Node000010" class="edge">
<title>Node2&#45;&gt;Node10</title>
<g id="a_edge9_Node000002_Node000010"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M183.9,-146.43C189.51,-143.8 195.02,-140.82 200,-137.5 219.09,-124.77 216.5,-112.59 236,-100.5 238.61,-98.88 241.37,-97.4 244.22,-96.04"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="245.69,-99.22 253.53,-92.1 242.96,-92.77 245.69,-99.22"/>
</a>
</g>
</g>
<!-- Node11 -->
<g id="Node000011" class="node">
<title>Node11</title>
<g id="a_Node000011"><a xlink:href="ie__batcher_8c.html#a6dfb3b0fad4a7c1271d86da06649236f" target="_top" xlink:title="Obtain a contiguous slice of ready items without copying.">
<polygon fill="white" stroke="#666666" points="337.5,-129 248.5,-129 248.5,-110 337.5,-110 337.5,-129"/>
<text text-anchor="middle" x="293" y="-117" font-family="Helvetica,sans-Serif" font-size="10.00">ie_batcher_get</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node11 -->
<g id="edge11_Node000002_Node000011" class="edge">
<title>Node2&#45;&gt;Node11</title>
<g id="a_edge11_Node000002_Node000011"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M194.13,-146.46C211.54,-141.66 230.59,-136.41 247.22,-131.83"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="248.51,-135.11 257.22,-129.08 246.65,-128.36 248.51,-135.11"/>
</a>
</g>
</g>
<!-- Node12 -->
<g id="Node000012" class="node">
<title>Node12</title>
<g id="a_Node000012"><a xlink:href="test__batcher_8c.html#a4818ddbc1b516bbe63d2a991a2b1b4bd" target="_top" xlink:title="Deterministic tokenizer used for testing.">
<polygon fill="white" stroke="#666666" points="342,-166 244,-166 244,-147 342,-147 342,-166"/>
<text text-anchor="middle" x="293" y="-154" font-family="Helvetica,sans-Serif" font-size="10.00">test_tokenize_cb</text>
</a>
</g>
</g>
<!-- Node2&#45;&gt;Node12 -->
<g id="edge12_Node000002_Node000012" class="edge">
<title>Node2&#45;&gt;Node12</title>
<g id="a_edge12_Node000002_Node000012"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M194.56,-159.69C207.21,-159.28 220.71,-158.84 233.51,-158.42"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="233.71,-161.91 243.59,-158.09 233.48,-154.92 233.71,-161.91"/>
</a>
</g>
</g>
<!-- Node4 -->
<g id="Node000004" class="node">
<title>Node4</title>
<g id="a_Node000004"><a xlink:href="ie__batcher_8c.html#a6b929aafa08b7ff2b55984965517f8cc" target="_top" xlink:title="Free an item&#39;s payload (token ids) and reset its fields.">
<polygon fill="white" stroke="#666666" points="460,-157 392,-157 392,-138 460,-138 460,-157"/>
<text text-anchor="middle" x="426" y="-145" font-family="Helvetica,sans-Serif" font-size="10.00">clear_item</text>
</a>
</g>
</g>
<!-- Node3&#45;&gt;Node4 -->
<g id="edge3_Node000003_Node000004" class="edge">
<title>Node3&#45;&gt;Node4</title>
<g id="a_edge3_Node000003_Node000004"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M324.6,-183.95C332.87,-181.29 341.8,-178.35 350,-175.5 363.26,-170.9 377.73,-165.57 390.4,-160.8"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="391.99,-163.94 400.1,-157.12 389.51,-157.39 391.99,-163.94"/>
</a>
</g>
</g>
<!-- Node6 -->
<g id="Node000006" class="node">
<title>Node6</title>
<g id="a_Node000006"><a xlink:href="ie__batcher_8c.html#ab50c928126740940413626fd7ab7ce72" target="_top" xlink:title="Producer thread entry: tokenizes prompts in ascending index order.">
<polygon fill="white" stroke="#666666" points="466,-37 386,-37 386,-18 466,-18 466,-37"/>
<text text-anchor="middle" x="426" y="-25" font-family="Helvetica,sans-Serif" font-size="10.00">worker_main</text>
</a>
</g>
</g>
<!-- Node5&#45;&gt;Node6 -->
<g id="edge5_Node000005_Node000006" class="edge">
<title>Node5&#45;&gt;Node6</title>
<g id="a_edge5_Node000005_Node000006"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M345.02,-38.49C355.05,-37.11 365.55,-35.67 375.52,-34.3"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="376.25,-37.73 385.68,-32.9 375.3,-30.8 376.25,-37.73"/>
</a>
</g>
</g>
<!-- Node9 -->
<g id="Node000009" class="node">
<title>Node9</title>
<g id="a_Node000009"><a xlink:href="ie__batcher_8c.html#a981c4f4b5894b549eb0b2f0358810c67" target="_top" xlink:title="calloc wrapper (zero&#45;initialized).">
<polygon fill="white" stroke="#666666" points="451.5,-74 400.5,-74 400.5,-55 451.5,-55 451.5,-74"/>
<text text-anchor="middle" x="426" y="-62" font-family="Helvetica,sans-Serif" font-size="10.00">xcalloc</text>
</a>
</g>
</g>
<!-- Node5&#45;&gt;Node9 -->
<g id="edge8_Node000005_Node000009" class="edge">
<title>Node5&#45;&gt;Node9</title>
<g id="a_edge8_Node000005_Node000009"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M345.02,-52.9C360.14,-55.09 376.33,-57.44 390.17,-59.45"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="389.84,-62.94 400.23,-60.91 390.84,-56.01 389.84,-62.94"/>
</a>
</g>
</g>
<!-- Node7 -->
<g id="Node000007" class="node">
<title>Node7</title>
<g id="a_Node000007"><a xlink:href="ie__batcher_8c.html#a9475e6883ae67815581f9573b97d2148" target="_top" xlink:title="Enqueue a tokenized item into the ring (blocks if full).">
<polygon fill="white" stroke="#666666" points="588,-56 502,-56 502,-37 588,-37 588,-56"/>
<text text-anchor="middle" x="545" y="-44" font-family="Helvetica,sans-Serif" font-size="10.00">enqueue_item</text>
</a>
</g>
</g>
<!-- Node6&#45;&gt;Node7 -->
<g id="edge6_Node000006_Node000007" class="edge">
<title>Node6&#45;&gt;Node7</title>
<g id="a_edge6_Node000006_Node000007"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M466.28,-33.88C474.49,-35.21 483.27,-36.64 491.86,-38.03"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="491.38,-41.5 501.81,-39.65 492.5,-34.59 491.38,-41.5"/>
</a>
</g>
</g>
<!-- Node8 -->
<g id="Node000008" class="node">
<title>Node8</title>
<g id="a_Node000008"><a xlink:href="ie__batcher_8c.html#a691ff39201d7e90e9808bf7f5ddb2cb8" target="_top" xlink:title="Thread&#45;safe fetch of the next prompt index to process.">
<polygon fill="white" stroke="#666666" points="576,-19 514,-19 514,0 576,0 576,-19"/>
<text text-anchor="middle" x="545" y="-7" font-family="Helvetica,sans-Serif" font-size="10.00">pop_next</text>
</a>
</g>
</g>
<!-- Node6&#45;&gt;Node8 -->
<g id="edge7_Node000006_Node000008" class="edge">
<title>Node6&#45;&gt;Node8</title>
<g id="a_edge7_Node000006_Node000008"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M466.28,-21.46C478.42,-19.59 491.8,-17.53 503.98,-15.66"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="504.53,-19.11 513.89,-14.13 503.47,-12.19 504.53,-19.11"/>
</a>
</g>
</g>
<!-- Node10&#45;&gt;Node4 -->
<g id="edge10_Node000010_Node000004" class="edge">
<title>Node10&#45;&gt;Node4</title>
<g id="a_edge10_Node000010_Node000004"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M328.28,-92.02C335.58,-94.46 343.15,-97.31 350,-100.5 369.04,-109.36 389.12,-122.15 403.71,-132.15"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="401.82,-135.1 412.02,-137.96 405.83,-129.36 401.82,-135.1"/>
</a>
</g>
</g>
<!-- Node13&#45;&gt;Node5 -->
<g id="edge14_Node000013_Node000005" class="edge">
<title>Node13&#45;&gt;Node5</title>
<g id="a_edge14_Node000013_Node000005"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M197.59,-60.98C208.42,-59.2 219.76,-57.34 230.68,-55.55"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="231.26,-59 240.56,-53.93 230.13,-52.1 231.26,-59"/>
</a>
</g>
</g>
<!-- Node13&#45;&gt;Node10 -->
<g id="edge15_Node000013_Node000010" class="edge">
<title>Node13&#45;&gt;Node10</title>
<g id="a_edge15_Node000013_Node000010"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M200.21,-75.28C209.26,-75.99 218.62,-76.73 227.74,-77.44"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="227.67,-80.95 237.91,-78.24 228.22,-73.97 227.67,-80.95"/>
</a>
</g>
</g>
<!-- Node13&#45;&gt;Node11 -->
<g id="edge16_Node000013_Node000011" class="edge">
<title>Node13&#45;&gt;Node11</title>
<g id="a_edge16_Node000013_Node000011"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M169.99,-80C179.6,-83.02 190.25,-86.38 200,-89.5 217.49,-95.1 236.82,-101.39 253.23,-106.75"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="252.43,-110.17 263.02,-109.96 254.61,-103.52 252.43,-110.17"/>
</a>
</g>
</g>
<!-- Node13&#45;&gt;Node12 -->
<g id="edge17_Node000013_Node000012" class="edge">
<title>Node13&#45;&gt;Node12</title>
<g id="a_edge17_Node000013_Node000012"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M182.14,-80.1C188.45,-82.57 194.63,-85.66 200,-89.5 221.98,-105.22 214.07,-122.71 236,-138.5 238.07,-139.99 240.26,-141.36 242.54,-142.62"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="241.12,-145.82 251.66,-146.95 244.12,-139.49 241.12,-145.82"/>
</a>
</g>
</g>
<!-- Node14&#45;&gt;Node3 -->
<g id="edge19_Node000014_Node000003" class="edge">
<title>Node14&#45;&gt;Node3</title>
<g id="a_edge19_Node000014_Node000003"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M183.94,-128.51C189.54,-131.15 195.04,-134.14 200,-137.5 219.27,-150.54 216.31,-163.11 236,-175.5 238.6,-177.13 241.35,-178.63 244.2,-180"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="242.92,-183.26 253.5,-183.97 245.67,-176.83 242.92,-183.26"/>
</a>
</g>
</g>
<!-- Node14&#45;&gt;Node5 -->
<g id="edge20_Node000014_Node000005" class="edge">
<title>Node14&#45;&gt;Node5</title>
<g id="a_edge20_Node000014_Node000005"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M179.45,-98.42C186.42,-95.39 193.52,-92.04 200,-88.5 217.1,-79.17 218.54,-72.13 236,-63.5 239.55,-61.74 243.32,-60.11 247.15,-58.59"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="248.53,-61.81 256.72,-55.08 246.12,-55.24 248.53,-61.81"/>
</a>
</g>
</g>
<!-- Node14&#45;&gt;Node10 -->
<g id="edge21_Node000014_Node000010" class="edge">
<title>Node14&#45;&gt;Node10</title>
<g id="a_edge21_Node000014_Node000010"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M196.72,-101.87C209.26,-99.32 222.53,-96.62 235.05,-94.08"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="235.81,-97.49 244.91,-92.07 234.42,-90.63 235.81,-97.49"/>
</a>
</g>
</g>
<!-- Node14&#45;&gt;Node11 -->
<g id="edge22_Node000014_Node000011" class="edge">
<title>Node14&#45;&gt;Node11</title>
<g id="a_edge22_Node000014_Node000011"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M196.72,-115.75C210.32,-116.29 224.79,-116.86 238.24,-117.38"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="238.16,-120.88 248.29,-117.78 238.43,-113.89 238.16,-120.88"/>
</a>
</g>
</g>
<!-- Node14&#45;&gt;Node12 -->
<g id="edge23_Node000014_Node000012" class="edge">
<title>Node14&#45;&gt;Node12</title>
<g id="a_edge23_Node000014_Node000012"><a xlink:title=" ">
<path fill="none" stroke="#63b8ff" d="M192.84,-128.54C210.93,-133.64 230.92,-139.28 248.19,-144.15"/>
<polygon fill="#63b8ff" stroke="#63b8ff" points="247.43,-147.57 258,-146.91 249.33,-140.83 247.43,-147.57"/>
</a>
</g>
</g>
</g>
</svg>
